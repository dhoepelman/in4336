in4336@ubuntu:~/repo/gc/benchmark/solutions$ Kijk je mee?[K[K[K[K[K[K[K[K[K[K[K[Kexitcd ../[1Pls -lrm gurobi.log [9Pls -lcd ../[2Pexit[Kls [K[K[KDavid?[K[K[K[K[K[Kcd ../..
in4336@ubuntu:~/repo/gc$ screen [K[K[K[K[K[K[K^C
in4336@ubuntu:~/repo/gc$ ^C
in4336@ubuntu:~/repo/gc$ exit
exit
in4336@ubuntu:~/repo/gc/benchmark/solutions$ cd ../..
in4336@ubuntu:~/repo/gc$ cd ../..[4Pexitcd ../..[4Pexitcd ../[1Pls -lrm gurobi.log [2@nano[C[C[C[C[C[C[C[C[C[C[C[Cls -l[Knano gurobi.log ls -l[Krm gurobi[4Pls -lcd bingurobi_cl[3Pcd bin[1Pls -lrm gurobi[4Pls -lnano gurobi.log [2Prm[C[C[C[C[C[C[C[C[C[C[C[C[9Pls -lcd ../[2Pexitcd ../..[4Pexitcd ../..[Kpyh[Kyh[K[Kthon benchmark_ilp.py ../ilp/1-Fulllns_3.col 
Starting to solve 1-Fulllns_3 with N=30,M=100
Translation complete, now starting to solve
Found solution: -1
Timeout
in4336@ubuntu:~/repo/gc$ python benchmark_ilp.py ../ilp/1-Fulllns_3.col [1@f[1@o[1@r[1@ [1@$[1@x[1@ [1@i[1@n[1@ [1@b[1@e[1@n[1@c[1@h[1@m[1@a[1@r[1@k[1@ [1P[1@/[1@*[1@c[1@o[1@l[1P[1P[1P[1@.[1@c[1@o[1@l[1@ [1P[1@;[1@ [1P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cto-benchmark/$x; done;
bash: syntax error near unexpected token `python'
in4336@ubuntu:~/repo/gc$ for $x in benchmark/*.col;python benchmark_ilp.py ../ilp/1-Fulllns_3.col to-benchmark/$x; done;[C[C[C[C[C[C[C[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[C[1P[1@.[1@/
bash: syntax error near unexpected token `python'
in4336@ubuntu:~/repo/gc$ for $x in benchmark/*.col;python ./benchmark_ilp.py to-benchmark/$x; done;[21@benchmark_ilp.py ../ilp/1-Fulllns_3.col[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[48Ppython benchmark_ilp.py ../ilp/1-Fulllns_3.col [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cfor $x in benchmark/*.col;python benchmark_ilp.py ../ilp/1-Fulllns_3.col to-benchmark/$x; done;[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[21P./benchmark_ilp.py[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kfor $x in benchmark/*.col;python ./benchmark_ilp.py to-benchmark/$x; done;[21@benchmark_ilp.py ../ilp/1-Fulllns_3.col[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kvim benchmark_ilp.py 
[?1049h[?1h=[1;33r[34l[34h[?25h[23m[24m[0m[H[J[?25l[33;1H"benchmark_ilp.py" 157L, 4603C[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[0m

[35mfrom[0m __future__ [35mimport[0m print_function

[35mimport[0m signal
[35mimport[0m sys
[35mimport[0m math
[35mimport[0m os
[35mimport[0m subprocess
[35mimport[0m time
[35mimport[0m json
[35mimport[0m collections
[35mfrom[0m gc_to_ilp_functions [35mimport[0m *

totaltimestart = time.time()

[34m# Folder to keep results in[0m
outputdir = [31m"benchmark"[0m
[34m# Solution folder[0m
solutiondir = outputdir+[31m"/solutions"[0m
translationdir = outputdir+[31m"/translations"[0m
resultfile = outputdir+[31m"/results_ilp.csv"[0m
tracedir = outputdir+[31m"/trace"[0m

[34m# Timeout in seconds for the ILP solver
#timeout = 3600[0m
timeout = [31m1800[0m

[34m# Statistics we would like to keep[0m
instancename = [31m""[0m
time_spent_translating = [31m0[0m[33;108H1,1[11CTop[1;1H[34h[?25h[?25l[33;108H2[2;1H[34h[?25h[?25l[33;108H3,0-1[3;1H[34h[?25h[?25l[33;108H4,1  [4;1H[34h[?25h[?25l[33;108H5,0-1[5;1H[34h[?25h[?25l[33;108H6,1  [6;1H[34h[?25h[?25l[33;108H7[7;1H[34h[?25h[?25l[33;108H8[8;1H[34h[?25h[?25l[33;108H9[9;1H[34h[?25h[?25l[33;108H10,1[10;1H[34h[?25h[?25l[33;109H1[11;1H[34h[?25h[?25l[33;109H2[12;1H[34h[?25h[?25l[33;109H3[13;1H[34h[?25h[?25l[33;109H4[14;1H[34h[?25h[?25l[33;109H5,0-1[15;1H[34h[?25h[?25l[33;109H6,1  [16;1H[34h[?25h[?25l[33;109H7,0-1[17;1H[34h[?25h[?25l[33;109H8,1  [18;1H[34h[?25h[?25l[33;109H9[19;1H[34h[?25h[?25l[33;108H20[20;1H[34h[?25h[?25l[33;109H1[21;1H[34h[?25h[?25l[33;109H2[22;1H[34h[?25h[?25l[33;109H3[23;1H[34h[?25h[?25l[33;109H4[24;1H[34h[?25h[?25l[33;109H5,0-1[25;1H[34h[?25h[?25l[33;109H6,1  [26;1H[34h[?25h[?25l[33;109H7[27;1H[34h[?25h[?25l[33;109H8[28;1H[34h[?25h[?25l[33;109H9,0-1[29;1H[34h[?25h[?25l[33;108H30,1  [30;1H[34h[?25h[?25l[33;109H1[31;1H[34h[?25h[?25l[33;109H2[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Htime_spent_solving = [31m0[0m[33;1H[K[33;108H33,1[11C0%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsolution = -[31m1[0m[33;108H[K[33;108H34,1[11C1%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hlower_bound = [31m0[0m[13C[34m# Smallest k we know is unsatisfiable[0m[33;108H[K[33;108H35,1[11C2%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hupper_bound = [36mfloat[0m([31m"inf"[0m)  [34m# Smallest k we know is satisfialble[0m[33;108H[K[33;108H36,1[11C3%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H37,0-1[9C4%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mclass[0m [36mTimeoutException[0m([32mException[0m):[33;108H[K[33;108H38,1[11C4%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mpass[0m[33;108H[K[33;108H39,1[11C5%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mdef[0m [36mtimeout_handler[0m(signum, frame):[33;108H[K[33;108H40,1[11C6%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mraise[0m TimeoutException()[33;108H[K[33;108H41,1[11C7%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsignal.signal(signal.SIGALRM, timeout_handler)[33;108H[K[33;108H42,1[11C8%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H43,0-1[9C8%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mif[0m([36mlen[0m(sys.argv) < [31m2[0m):[33;108H[K[33;108H44,1[11C9%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hinstancefn = [36mraw_input[0m([31m'File: '[0m)[33;108H[K[33;108H45,1[10C10%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33melse[0m:[33;108H[K[33;108H46,1[10C11%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hinstancefn = sys.argv[[31m1[0m][33;108H[K[33;108H47,1[10C12%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H48,0-1[8C12%[32;1H[34h[?25h[?25l[33;109H7,1  [31;1H[34h[?25h[?25l[33;109H8,0-1[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hinstancename = os.path.splitext(os.path.basename(instancefn))[[31m0[0m][33;108H[K[33;108H49,1[10C13%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mwith[0m [36mopen[0m(instancefn) [33mas[0m instancef:[33;108H[K[33;108H50,1[10C14%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hinstance = instancef.readlines()[33;108H[K[33;108H51,1[10C15%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H52,0-1[8C16%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[46m([0mN,M,_[46m)[0m = read_DIGRAPH(instance)[33;108H[K[33;108H53,1[10C16%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[31;1H(N,M,_)[33;108H[K[33;108H54,0-1[8C17%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hupper_bound = N[33;108H[K[33;108H55,1[10C18%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H56,0-1[8C19%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Htrace = collections.OrderedDict()[33;108H[K[33;108H57,1[10C20%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H58,0-1[8C20%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m# Your time starts... NOW![0m[33;108H[K[33;108H59,1[10C21%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsignal.alarm(timeout)[33;108H[K[33;108H60,1[10C22%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H61,0-1[8C23%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mprint[0m([31m"Starting to solve %s with N=%d,M=%d"[0m % (instancename, N, M))[33;108H[K[33;108H62,1[10C24%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H63,0-1[8C24%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mtry[0m:[33;108H[K[33;108H64,1[10C25%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m# Binary search for the solution[0m[33;108H[K[33;108H65,1[10C26%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[0m[33;108H[K[33;108H66,1[10C27%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m#trace[guess] = {}[0m[33;108H[K[33;108H67,1[10C28%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H68,0-1[8C28%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[0m[33;108H[K[33;108H69,1[10C29%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hstarttime = time.time()[33;108H[K[33;108H70,1[10C30%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H71,0-1[8C31%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[36mid[0m = [31m"gc-%s"[0m % instancename[33;108H[K[33;108H72,1[10C32%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Htranslationfn = [31m"%s/%s.lp"[0m % (translationdir, [36mid[0m)[33;108H[K[33;108H73,1[10C32%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hresultfn = [31m"%s/%.sol"[0m % (translationdir, [36mid[0m)[33;108H[K[33;108H74,1[10C33%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H75,0-1[8C34%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mtry[0m:[33;108H[K[33;108H76,1[10C35%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Hgc_string_to_ilp_file(instance, translationfn, N)[33;108H[K[33;108H77,1[10C36%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_this_translation = time.time() - starttime[33;108H[K[33;108H78,1[10C36%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['trans'] = time_this_translation[0m[33;108H[K[33;108H79,1[10C37%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H80,0-1[8C38%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[33;108H[K[33;108H81,1[10C39%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H82,0-1[8C40%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Hstarttime = time.time()[33;108H[K[33;108H83,1[10C40%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H84,0-1[8C41%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mwith[0m [36mopen[0m([31m"%s/%s.lp"[0m % (solutiondir, [36mid[0m), [31m'wb'[0m) [33mas[0m solutionf:[33;108H[K[33;108H85,1[10C42%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hsolverresult = subprocess.call([31m"gurobi_cl ResultFile="[0m+resultfn+[31m" "[0m+translationfn, shell=[36mTrue[0m, stdout=solutionf)[33;108H[K[33;108H86,1[10C43%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H87,0-1[8C44%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[0m[33;108H[K[33;108H88,1[10C44%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_this_solving = time.time() - starttime[33;108H[K[33;108H89,1[10C45%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_spent_solving +=  time_this_solving[33;108H[K[33;108H90,1[10C46%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_spent_translating += time_this_translation[33;108H[K[33;108H91,1[10C47%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['solve'] = time_this_solving[0m[33;108H[K[33;108H92,1[10C48%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['this'] = time_this_translation+time_this_solving[0m[33;108H[K[33;108H93,1[10C48%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['total'] = time_spent_solving+time_spent_translating[0m[33;108H[K[33;108H94,1[10C49%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H95,0-1[8C50%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            if solverresult == 10:[0m[33;108H[K[33;108H96,1[10C51%[32;1H[34h[?25h[?25l[33;109H5,0-1[31;1H[34h[?25h[?25l[33;109H4,1  [30;1H[34h[?25h[?25l[33;109H3[29;1H[34h[?25h[?25l[33;109H2[28;1H[34h[?25h[?25l[33;109H1[27;1H[34h[?25h[?25l[33;109H0[26;1H[34h[?25h[?25l[33;108H89[25;1H[34h[?25h[?25l[33;109H8[24;1H[34h[?25h[?25l[33;109H7,0-1[23;1H[34h[?25h[?25l[33;109H6,1  [22;1H[34h[?25h[?25l[33;109H5[21;1H[34h[?25h[?25l[33;109H4,0-1[20;1H[34h[?25h[?25l[33;109H3,1  [19;1H[34h[?25h[?25l[33;109H2,0-1[18;1H[34h[?25h[?25l[33;109H1,1  [17;1H[34h[?25h[?25l[33;109H0,0-1[16;1H[34h[?25h[?25l[33;108H79,1  [15;1H[34h[?25h[?25l[33;109H8[14;1H[34h[?25h[?25l[33;109H7[13;1H[34h[?25h[?25l[33;109H6[12;1H[34h[?25h[?25l[33;109H5,0-1[11;1H[34h[?25h[?25l[33;109H4,1  [10;1H[34h[?25h[?25l[33;109H3[9;1H[34h[?25h[?25l[33;109H4[10;1H[34h[?25h[?25l[33;109H5,0-1[11;1H[34h[?25h[?25l[33;109H6,1  [12;1H[34h[?25h[?25l[33;109H7[13;1H[34h[?25h[?25l[33;109H8[14;1H[34h[?25h[?25l[33;109H9[15;1H[34h[?25h[?25l[33;108H80,0-1[16;1H[34h[?25h[?25l[33;109H1,1  [17;1H[34h[?25h[?25l[33;109H2,0-1[18;1H[34h[?25h[?25l[33;109H3,1  [19;1H[34h[?25h[?25l[33;109H4,0-1[20;1H[34h[?25h[?25l[33;109H5,1  [21;1H[34h[?25h[?25l[33;109H6[22;1H[34h[?25h[?25l[33;109H7,0-1[23;1H[34h[?25h[?25l[33;109H8,1  [24;1H[34h[?25h[?25l[33;109H9[25;1H[34h[?25h[?25l[33;108H90[26;1H[34h[?25h[?25l[33;109H1[27;1H[34h[?25h[?25l[33;109H2[28;1H[34h[?25h[?25l[33;109H3[29;1H[34h[?25h[?25l[33;109H4[30;1H[34h[?25h[?25l[33;109H5,0-1[31;1H[34h[?25h[?25l[33;109H6,1  [32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                # Satisfiable[0m[33;108H[K[33;108H97,1[10C52%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                upper_bound = guess[0m[33;108H[K[33;108H98,1[10C52%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            elif solverresult == 20:[0m[33;108H[K[33;108H99,1[10C53%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                # Unsatisfiable[0m[33;108H[K[33;108H100,1[9C54%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                lower_bound = guess[0m[33;108H[K[33;108H101,1[9C55%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H102,0-1[7C56%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            if lower_bound == upper_bound-1:[0m[33;108H[K[33;108H103,1[9C56%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;17H[34m# We've found the smallest k! It's the upper bound[0m[33;108H[K[33;108H104,1[9C57%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                solution = upper_bound[0m[33;108H[K[33;108H105,1[9C58%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[36mprint[0m([31m"Found solution: %d"[0m % solution)[33;108H[K[33;108H106,1[9C59%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            else:[0m[33;108H[K[33;108H107,1[9C60%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[0m[33;108H[K[33;108H108,1[9C60%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mfinally[0m:[33;108H[K[33;108H109,1[9C61%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m# Delete the translation file, since it can become several gigs[0m[33;108H[K[33;108H110,1[9C62%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mif[0m os.path.isfile(translationfn):[33;108H[K[33;108H111,1[9C63%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hos.remove(translationfn)[33;108H[K[33;108H112,1[9C64%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mexcept[0m [32mKeyboardInterrupt[0m:[33;108H[K[33;108H113,1[9C64%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m# User wants to cancel[0m[33;108H[K[33;108H114,1[9C65%[32;1H[34h[?25h[?25l[33;110H3[31;1H[34h[?25h[?25l[33;110H2[30;1H[34h[?25h[?25l[33;110H1[29;1H[34h[?25h[?25l[33;110H0[28;1H[34h[?25h[?25l[33;109H09[27;1H[34h[?25h[?25l[33;110H8[26;1H[34h[?25h[?25l[33;110H7[25;1H[34h[?25h[?25l[33;110H6[24;1H[34h[?25h[?25l[33;110H5[23;1H[34h[?25h[?25l[33;110H4[22;1H[34h[?25h[?25l[33;110H3[21;1H[34h[?25h[?25l[33;110H2,0-1[20;1H[34h[?25h[?25l[33;110H1,1  [19;1H[34h[?25h[?25l[33;110H0[18;1H[34h[?25h[?25l[33;108H99,1 [17;1H[34h[?25h[?25l[33;109H8[16;1H[34h[?25h[?25l[33;109H7[15;1H[34h[?25h[?25l[33;109H6[14;1H[34h[?25h[?25l[33;109H5,0-1[13;1H[34h[?25h[?25l[33;109H4,1  [12;1H[34h[?25h[?25l[33;109H3[11;1H[34h[?25h[?25l[33;109H2[10;1H[34h[?25h[?25l[33;109H1[9;1H[34h[?25h[?25l[33;109H0[8;1H[34h[?25h[?25l[33;108H89[7;1H[34h[?25h[?25l[33;109H8[6;1H[34h[?25h[?25l[33;109H7,0-1[5;1H[34h[?25h[?25l[33;109H6,1  [4;1H[34h[?25h[?25l[33;109H5[3;1H[34h[?25h[?25l[33;109H4,0-1[2;1H[34h[?25h[?25l[33;109H3,1  [1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H82,0-1[8C64%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[33;108H[K[33;108H81,1[10C64%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H80,0-1[8C63%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[34m#trace[guess]['trans'] = time_this_translation[0m[33;108H[K[33;108H79,1[10C62%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Htime_this_translation = time.time() - starttime[33;108H[K[33;108H78,1[10C61%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Hgc_string_to_ilp_file(instance, translationfn, N)[33;108H[K[33;108H77,1[10C60%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[33mtry[0m:[33;108H[K[33;108H76,1[10C60%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H75,0-1[8C59%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5Hresultfn = [31m"%s/%.sol"[0m % (translationdir, [36mid[0m)[33;108H[K[33;108H74,1[10C58%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5Htranslationfn = [31m"%s/%s.lp"[0m % (translationdir, [36mid[0m)[33;108H[K[33;108H73,1[10C57%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[36mid[0m = [31m"gc-%s"[0m % instancename[33;108H[K[33;108H72,1[10C56%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H71,0-1[8C56%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5Hstarttime = time.time()[33;108H[K[33;108H70,1[10C55%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[34m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[0m[33;108H[K[33;108H69,1[10C54%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H68,0-1[8C53%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[34m#trace[guess] = {}[0m[33;108H[K[33;108H67,1[10C52%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[34m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[0m[33;108H[K[33;108H66,1[10C52%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[34m# Binary search for the solution[0m[33;108H[K[33;108H65,1[10C51%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mtry[0m:[33;108H[K[33;108H64,1[10C50%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H63,0-1[8C49%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mprint[0m([31m"Starting to solve %s with N=%d,M=%d"[0m % (instancename, N, M))[33;108H[K[33;108H62,1[10C48%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H61,0-1[8C48%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsignal.alarm(timeout)[33;108H[K[33;108H60,1[10C47%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m# Your time starts... NOW![0m[33;108H[K[33;108H59,1[10C46%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H58,0-1[8C45%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Htrace = collections.OrderedDict()[33;108H[K[33;108H57,1[10C44%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H56,0-1[8C44%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hupper_bound = N[33;108H[K[33;108H55,1[10C43%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H54,0-1[8C42%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[46m([0mN,M,_[46m)[0m = read_DIGRAPH(instance)[33;108H[K[33;108H53,1[10C41%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[2;1H(N,M,_)[33;108H[K[33;108H52,0-1[8C40%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5Hinstance = instancef.readlines()[33;108H[K[33;108H51,1[10C40%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mwith[0m [36mopen[0m(instancefn) [33mas[0m instancef:[33;108H[K[33;108H50,1[10C39%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hinstancename = os.path.splitext(os.path.basename(instancefn))[[31m0[0m][33;108H[K[33;108H49,1[10C38%[1;1H[34h[?25h[?25l[33;108H50[2;1H[34h[?25h[?25l[33;109H1[3;1H[34h[?25h[?25l[33;109H2,0-1[4;1H[34h[?25h[?25l
[46m([0mN,M,_[46m)[0m[33;109H3,1  [5;1H[34h[?25h[?25l(N,M,_)[33;109H4,0-1[6;1H[34h[?25h[?25l[33;109H5,1  [7;1H[34h[?25h[?25l[33;109H6,0-1[8;1H[34h[?25h[?25l[33;109H7,1  [9;1H[34h[?25h[?25l[33;109H8,0-1[10;1H[34h[?25h[?25l[33;109H9,1  [11;1H[34h[?25h[?25l[33;108H60[12;1H[34h[?25h[?25l[33;109H1,0-1[13;1H[34h[?25h[?25l[33;109H2,1  [14;1H[34h[?25h[?25l[33;109H3,0-1[15;1H[34h[?25h[?25l[33;109H4,1  [16;1H[34h[?25h[?25l[33;109H5[17;1H[34h[?25h[?25l[33;109H6[18;1H[34h[?25h[?25l[33;109H7[19;1H[34h[?25h[?25l[33;109H8,0-1[20;1H[34h[?25h[?25l[33;109H9,1  [21;1H[34h[?25h[?25l[33;108H70[22;1H[34h[?25h[?25l[33;109H1,0-1[23;1H[34h[?25h[?25l[33;109H2,1  [24;1H[34h[?25h[?25l[33;109H3[25;1H[34h[?25h[?25l[33;109H4[26;1H[34h[?25h[?25l[33;109H5,0-1[27;1H[34h[?25h[?25l[33;109H6,1  [28;1H[34h[?25h[?25l[33;109H7[29;1H[34h[?25h[?25l[33;109H8[30;1H[34h[?25h[?25l[33;109H9[31;1H[34h[?25h[?25l[33;108H80,0-1[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[33;108H[K[33;108H81,1[10C39%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H82,0-1[8C40%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Hstarttime = time.time()[33;108H[K[33;108H83,1[10C40%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H84,0-1[8C41%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mwith[0m [36mopen[0m([31m"%s/%s.lp"[0m % (solutiondir, [36mid[0m), [31m'wb'[0m) [33mas[0m solutionf:[33;108H[K[33;108H85,1[10C42%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hsolverresult = subprocess.call([31m"gurobi_cl ResultFile="[0m+resultfn+[31m" "[0m+translationfn, shell=[36mTrue[0m, stdout=solutionf)[33;108H[K[33;108H86,1[10C43%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H87,0-1[8C44%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[0m[33;108H[K[33;108H88,1[10C44%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_this_solving = time.time() - starttime[33;108H[K[33;108H89,1[10C45%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_spent_solving +=  time_this_solving[33;108H[K[33;108H90,1[10C46%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_spent_translating += time_this_translation[33;108H[K[33;108H91,1[10C47%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['solve'] = time_this_solving[0m[33;108H[K[33;108H92,1[10C48%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['this'] = time_this_translation+time_this_solving[0m[33;108H[K[33;108H93,1[10C48%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['total'] = time_spent_solving+time_spent_translating[0m[33;108H[K[33;108H94,1[10C49%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H95,0-1[8C50%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            if solverresult == 10:[0m[33;108H[K[33;108H96,1[10C51%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                # Satisfiable[0m[33;108H[K[33;108H97,1[10C52%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                upper_bound = guess[0m[33;108H[K[33;108H98,1[10C52%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            elif solverresult == 20:[0m[33;108H[K[33;108H99,1[10C53%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                # Unsatisfiable[0m[33;108H[K[33;108H100,1[9C54%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                lower_bound = guess[0m[33;108H[K[33;108H101,1[9C55%[32;1H[34h[?25h[?25l[33;110H0[31;1H[34h[?25h[?25l[33;108H99,1 [30;1H[34h[?25h[?25l[33;109H8[29;1H[34h[?25h[?25l[33;109H7[28;1H[34h[?25h[?25l[33;109H6[27;1H[34h[?25h[?25l[33;109H5,0-1[26;1H[34h[?25h[?25l[33;109H4,1  [25;1H[34h[?25h[?25l[33;109H3[24;1H[34h[?25h[?25l[33;109H2[23;1H[34h[?25h[?25l[33;109H1[22;1H[34h[?25h[?25l[33;109H0[21;1H[34h[?25h[?25l[33;108H89[20;1H[34h[?25h[?25l[33;109H8[19;1H[34h[?25h[?25l[33;109H7,0-1[18;1H[34h[?25h[?25l[33;1H[1m-- INSERT --[0m[33;108H[K[33;108H87,1[10C55%[18;1H[34h[?25h[?25l[33;109H8[19;1H[34h[?25h[?25l[33;109H7[18;1H[34h[?25h[?25li[33;111H2[18;2H[34h[?25h[?25l[18;1H[K[33;111H1[18;1H[34h[?25h[33;1H[K[18;1H[?25l[33;108H87,0-1[8C55%[18;1H[34h[?25h[?25l[33;109H6,1  [17;1H[34h[?25h[?25l[33;109H5[16;1H[34h[?25h[?25l[33;109H4,0-1[15;1H[34h[?25h[?25l[33;109H3,1  [14;1H[34h[?25h[?25l[33;109H2,0-1[13;1H[34h[?25h[?25l[33;109H1,1  [12;1H[34h[?25h[?25l[33;109H0,0-1[11;1H[34h[?25h[?25l[33;108H79,1  [10;1H[34h[?25h[?25l[33;109H8[9;1H[34h[?25h[?25l[33;109H7[8;1H[34h[?25h[?25l[33;109H6[7;1H[34h[?25h[?25l[33;109H5,0-1[6;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[34m#                # Unsatisfiable
#                lower_bound = guess

#            if lower_bound == upper_bound-1:[5;17H# We've found the smallest k! It's the upper bound
#                solution = upper_bound[0m[7;9H[36mprint[0m([31m"Found solution: %d"[0m % solution)
[34m#            else:
#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[0m
    [33mfinally[0m:[11;9H[34m# Delete the translation file, since it can become several gigs[0m[12;9H[33mif[0m os.path.isfile(translationfn):[13;13Hos.remove(translationfn)
[33mexcept[0m [32mKeyboardInterrupt[0m:
    [34m# User wants to cancel[0m
    [33mpass
except[0m TimeoutException:
    [34m# MEEH, Time's up![0m
    [33mpass[0m

[34m# Done!
# Cancel timeout[0m
signal.alarm([31m0[0m)

[34m# Report in addition: N[0m

output = [31m""[0m
[33mif[0m [33mnot[0m os.path.isfile(resultfile):
    [34m# So excel knows what separator to use[0m
    output = [31m"sep=,[0m[35m\n[0m[31m"[0m
    output += [31m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace[0m[35m\n[0m[31m"[0m[33;108H100,1[9C79%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#            elif solverresult == 20:[0m[33;108H[K[33;108H99,1[10C78%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#                upper_bound = guess[0m[33;108H[K[33;108H98,1[10C77%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#                # Satisfiable[0m[33;108H[K[33;108H97,1[10C76%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#            if solverresult == 10:[0m[33;108H[K[33;108H96,1[10C76%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H95,0-1[8C75%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[34m#trace[guess]['total'] = time_spent_solving+time_spent_translating[0m[33;108H[K[33;108H94,1[10C74%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[34m#trace[guess]['this'] = time_this_translation+time_this_solving[0m[33;108H[K[33;108H93,1[10C73%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[34m#trace[guess]['solve'] = time_this_solving[0m[33;108H[K[33;108H92,1[10C72%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Htime_spent_translating += time_this_translation[33;108H[K[33;108H91,1[10C72%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Htime_spent_solving +=  time_this_solving[33;108H[K[33;108H90,1[10C71%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Htime_this_solving = time.time() - starttime[33;108H[K[33;108H89,1[10C70%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[34m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[0m[33;108H[K[33;108H88,1[10C69%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H87,0-1[8C68%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;13Hsolverresult = subprocess.call([31m"gurobi_cl ResultFile="[0m+resultfn+[31m" "[0m+translationfn, shell=[36mTrue[0m, stdout=solutionf)[33;108H[K[33;108H86,1[10C68%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[33mwith[0m [36mopen[0m([31m"%s/%s.lp"[0m % (solutiondir, [36mid[0m), [31m'wb'[0m) [33mas[0m solutionf:[33;108H[K[33;108H85,1[10C67%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H84,0-1[8C66%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Hstarttime = time.time()[33;108H[K[33;108H83,1[10C65%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H82,0-1[8C64%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[33;108H[K[33;108H81,1[10C64%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H80,0-1[8C63%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H[34m#trace[guess]['trans'] = time_this_translation[0m[33;108H[K[33;108H79,1[10C62%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;9Htime_this_translation = time.time() - starttime[33;108H[K[33;108H78,1[10C61%[1;1H[34h[?25h[?25l[33;108H[K[33;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l[33;3H[K[33;3H[34h[?25h[?25l[33;2H[K[33;2H[34h[?25hq[?25l[34h[?25h[?25l[1m[37m[41mE37: No write since last change (add ! to override)[0m[56C78,1[10C61%[1;1H[34h[?25h[?25l[33;1H[K[33;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l"benchmark_ilp.py" 157L, 4603C written
[?1l>[34h[?25h[?1049lin4336@ubuntu:~/repo/gc$ :wq
:wq: command not found
in4336@ubuntu:~/repo/gc$ clear
[H[Jin4336@ubuntu:~/repo/gc$ clear[2P:wqvim benchmark_ilp.py 
[?1049h[?1h=[1;33r[34l[34h[?25h[23m[24m[0m[H[J[?25l[33;1H"benchmark_ilp.py" 157L, 4603C[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[0m

[35mfrom[0m __future__ [35mimport[0m print_function

[35mimport[0m signal
[35mimport[0m sys
[35mimport[0m math
[35mimport[0m os
[35mimport[0m subprocess
[35mimport[0m time
[35mimport[0m json
[35mimport[0m collections
[35mfrom[0m gc_to_ilp_functions [35mimport[0m *

totaltimestart = time.time()

[34m# Folder to keep results in[0m
outputdir = [31m"benchmark"[0m
[34m# Solution folder[0m
solutiondir = outputdir+[31m"/solutions"[0m
translationdir = outputdir+[31m"/translations"[0m
resultfile = outputdir+[31m"/results_ilp.csv"[0m
tracedir = outputdir+[31m"/trace"[0m

[34m# Timeout in seconds for the ILP solver
#timeout = 3600[0m
timeout = [31m1800[0m

[34m# Statistics we would like to keep[0m
instancename = [31m""[0m
time_spent_translating = [31m0[0m[33;108H1,1[11CTop[1;1H[34h[?25h[?25l[33;1H[K[33;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l"benchmark_ilp.py" 157L, 4603C written
[?1l>[34h[?25h[?1049lin4336@ubuntu:~/repo/gc$ clear
[H[Jin4336@ubuntu:~/repo/gc$ PYTHO[K[K[K[K[Kpython benchmark_ilp.py ../ilp/1-Fulllns_3.col 
Starting to solve 1-Fulllns_3 with N=30,M=100
Translation complete, now starting to solve
Found solution: -1
Timeout
in4336@ubuntu:~/repo/gc$ Hoi[K[K[KNeem even op :)[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgoof[K[K[K[KGoed[K[K[K[KMijn telefoon is [K[K[Kging restarten uit zichzelf, probeer nogmaals[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kasdjasd[K[Kd[K[K[Kasdasddas[K[K[K[K[K[K[K[K[K[K[K[Kvim benchmark_ilp.py 
[?1049h[?1h=[1;33r[34l[34h[?25h[23m[24m[0m[H[J[?25l[33;1H"benchmark_ilp.py" 157L, 4603C[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[0m

[35mfrom[0m __future__ [35mimport[0m print_function

[35mimport[0m signal
[35mimport[0m sys
[35mimport[0m math
[35mimport[0m os
[35mimport[0m subprocess
[35mimport[0m time
[35mimport[0m json
[35mimport[0m collections
[35mfrom[0m gc_to_ilp_functions [35mimport[0m *

totaltimestart = time.time()

[34m# Folder to keep results in[0m
outputdir = [31m"benchmark"[0m
[34m# Solution folder[0m
solutiondir = outputdir+[31m"/solutions"[0m
translationdir = outputdir+[31m"/translations"[0m
resultfile = outputdir+[31m"/results_ilp.csv"[0m
tracedir = outputdir+[31m"/trace"[0m

[34m# Timeout in seconds for the ILP solver
#timeout = 3600[0m
timeout = [31m1800[0m

[34m# Statistics we would like to keep[0m
instancename = [31m""[0m
time_spent_translating = [31m0[0m[33;108H1,1[11CTop[1;1H[34h[?25h[?25l[33;108H2[2;1H[34h[?25h[?25l[33;108H3,0-1[3;1H[34h[?25h[?25l[33;108H4,1  [4;1H[34h[?25h[?25l[33;108H5,0-1[5;1H[34h[?25h[?25l[33;108H6,1  [6;1H[34h[?25h[?25l[33;108H7[7;1H[34h[?25h[?25l[33;108H8[8;1H[34h[?25h[?25l[33;108H9[9;1H[34h[?25h[?25l[33;108H10,1[10;1H[34h[?25h[?25l[33;109H1[11;1H[34h[?25h[?25l[33;109H2[12;1H[34h[?25h[?25l[33;109H3[13;1H[34h[?25h[?25l[33;109H4[14;1H[34h[?25h[?25l[33;109H5,0-1[15;1H[34h[?25h[?25l[33;109H6,1  [16;1H[34h[?25h[?25l[33;109H7,0-1[17;1H[34h[?25h[?25l[33;109H8,1  [18;1H[34h[?25h[?25l[33;109H9[19;1H[34h[?25h[?25l[33;108H20[20;1H[34h[?25h[?25l[33;109H1[21;1H[34h[?25h[?25l[33;109H2[22;1H[34h[?25h[?25l[33;109H3[23;1H[34h[?25h[?25l[33;109H4[24;1H[34h[?25h[?25l[33;109H5,0-1[25;1H[34h[?25h[?25l[33;109H6,1  [26;1H[34h[?25h[?25l[33;109H7[27;1H[34h[?25h[?25l[33;109H8[28;1H[34h[?25h[?25l[33;109H9,0-1[29;1H[34h[?25h[?25l[33;108H30,1  [30;1H[34h[?25h[?25l[33;109H1[31;1H[34h[?25h[?25l[33;109H2[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Htime_spent_solving = [31m0[0m[33;1H[K[33;108H33,1[11C0%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsolution = -[31m1[0m[33;108H[K[33;108H34,1[11C1%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hlower_bound = [31m0[0m[13C[34m# Smallest k we know is unsatisfiable[0m[33;108H[K[33;108H35,1[11C2%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hupper_bound = [36mfloat[0m([31m"inf"[0m)  [34m# Smallest k we know is satisfialble[0m[33;108H[K[33;108H36,1[11C3%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H37,0-1[9C4%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mclass[0m [36mTimeoutException[0m([32mException[0m):[33;108H[K[33;108H38,1[11C4%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mpass[0m[33;108H[K[33;108H39,1[11C5%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mdef[0m [36mtimeout_handler[0m(signum, frame):[33;108H[K[33;108H40,1[11C6%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mraise[0m TimeoutException()[33;108H[K[33;108H41,1[11C7%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsignal.signal(signal.SIGALRM, timeout_handler)[33;108H[K[33;108H42,1[11C8%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H43,0-1[9C8%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mif[0m([36mlen[0m(sys.argv) < [31m2[0m):[33;108H[K[33;108H44,1[11C9%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hinstancefn = [36mraw_input[0m([31m'File: '[0m)[33;108H[K[33;108H45,1[10C10%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33melse[0m:[33;108H[K[33;108H46,1[10C11%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hinstancefn = sys.argv[[31m1[0m][33;108H[K[33;108H47,1[10C12%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H48,0-1[8C12%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hinstancename = os.path.splitext(os.path.basename(instancefn))[[31m0[0m][33;108H[K[33;108H49,1[10C13%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mwith[0m [36mopen[0m(instancefn) [33mas[0m instancef:[33;108H[K[33;108H50,1[10C14%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hinstance = instancef.readlines()[33;108H[K[33;108H51,1[10C15%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H52,0-1[8C16%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[46m([0mN,M,_[46m)[0m = read_DIGRAPH(instance)[33;108H[K[33;108H53,1[10C16%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[31;1H(N,M,_)[33;108H[K[33;108H54,0-1[8C17%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hupper_bound = N[33;108H[K[33;108H55,1[10C18%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H56,0-1[8C19%[32;1H[34h[?25h[?25l[33;109H5,1  [31;1H[34h[?25h[?25l[33;109H6,0-1[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Htrace = collections.OrderedDict()[33;108H[K[33;108H57,1[10C20%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H58,0-1[8C20%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m# Your time starts... NOW![0m[33;108H[K[33;108H59,1[10C21%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsignal.alarm(timeout)[33;108H[K[33;108H60,1[10C22%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H61,0-1[8C23%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mprint[0m([31m"Starting to solve %s with N=%d,M=%d"[0m % (instancename, N, M))[33;108H[K[33;108H62,1[10C24%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H63,0-1[8C24%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mtry[0m:[33;108H[K[33;108H64,1[10C25%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m# Binary search for the solution[0m[33;108H[K[33;108H65,1[10C26%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[0m[33;108H[K[33;108H66,1[10C27%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m#trace[guess] = {}[0m[33;108H[K[33;108H67,1[10C28%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H68,0-1[8C28%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[0m[33;108H[K[33;108H69,1[10C29%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hstarttime = time.time()[33;108H[K[33;108H70,1[10C30%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H71,0-1[8C31%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[36mid[0m = [31m"gc-%s"[0m % instancename[33;108H[K[33;108H72,1[10C32%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Htranslationfn = [31m"%s/%s.lp"[0m % (translationdir, [36mid[0m)[33;108H[K[33;108H73,1[10C32%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hresultfn = [31m"%s/%.sol"[0m % (translationdir, [36mid[0m)[33;108H[K[33;108H74,1[10C33%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H75,0-1[8C34%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mtry[0m:[33;108H[K[33;108H76,1[10C35%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Hgc_string_to_ilp_file(instance, translationfn, N)[33;108H[K[33;108H77,1[10C36%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_this_translation = time.time() - starttime[33;108H[K[33;108H78,1[10C36%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['trans'] = time_this_translation[0m[33;108H[K[33;108H79,1[10C37%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H80,0-1[8C38%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[33;108H[K[33;108H81,1[10C39%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H82,0-1[8C40%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Hstarttime = time.time()[33;108H[K[33;108H83,1[10C40%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H84,0-1[8C41%[32;1H[34h[?25h[?25l[33;109H3,1  [31;1H[34h[?25h[?25l[33;109H2,0-1[30;1H[34h[?25h[?25l[33;109H1,1  [29;1H[34h[?25h[?25l[33;109H0,0-1[28;1H[34h[?25h[?25l[33;108H79,1  [27;1H[34h[?25h[?25l[33;109H8[26;1H[34h[?25h[?25l[33;109H7[25;1H[34h[?25h[?25l[33;109H6[24;1H[34h[?25h[?25l[33;109H5,0-1[23;1H[34h[?25h[?25l[33;109H4,1  [22;1H[34h[?25h[?25l[33;109H3[21;1H[34h[?25h[?25l[33;109H2[20;1H[34h[?25h[?25l[33;109H1,0-1[19;1H[34h[?25h[?25l[33;109H0,1  [18;1H[34h[?25h[?25l[33;108H69[17;1H[34h[?25h[?25l[33;109H8,0-1[16;1H[34h[?25h[?25l[33;109H7,1  [15;1H[34h[?25h[?25l[33;109H8,0-1[16;1H[34h[?25h[?25l[33;109H9,1  [17;1H[34h[?25h[?25l[33;108H70[18;1H[34h[?25h[?25l[33;109H1,0-1[19;1H[34h[?25h[?25l[33;109H2,1  [20;1H[34h[?25h[?25l[33;109H3[21;1H[34h[?25h[?25l[33;109H4[22;1H[34h[?25h[?25l[33;109H5,0-1[23;1H[34h[?25h[?25l[33;109H6,1  [24;1H[34h[?25h[?25l[33;109H7[25;1H[34h[?25h[?25l[33;109H8[26;1H[34h[?25h[?25l[33;109H9[27;1H[34h[?25h[?25l[33;108H80,0-1[28;1H[34h[?25h[?25l[33;109H1,1  [29;1H[34h[?25h[?25l[33;109H2,0-1[30;1H[34h[?25h[?25l[33;109H3,1  [31;1H[34h[?25h[?25l[33;109H4,0-1[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mwith[0m [36mopen[0m([31m"%s/%s.lp"[0m % (solutiondir, [36mid[0m), [31m'wb'[0m) [33mas[0m solutionf:[33;108H[K[33;108H85,1[10C42%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hsolverresult = subprocess.call([31m"gurobi_cl ResultFile="[0m+resultfn+[31m" "[0m+translationfn, shell=[36mTrue[0m, stdout=solutionf)[33;108H[K[33;108H86,1[10C43%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H87,0-1[8C44%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[0m[33;108H[K[33;108H88,1[10C44%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_this_solving = time.time() - starttime[33;108H[K[33;108H89,1[10C45%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_spent_solving +=  time_this_solving[33;108H[K[33;108H90,1[10C46%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Htime_spent_translating += time_this_translation[33;108H[K[33;108H91,1[10C47%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['solve'] = time_this_solving[0m[33;108H[K[33;108H92,1[10C48%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['this'] = time_this_translation+time_this_solving[0m[33;108H[K[33;108H93,1[10C48%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m#trace[guess]['total'] = time_spent_solving+time_spent_translating[0m[33;108H[K[33;108H94,1[10C49%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H95,0-1[8C50%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            if solverresult == 10:[0m[33;108H[K[33;108H96,1[10C51%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                # Satisfiable[0m[33;108H[K[33;108H97,1[10C52%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                upper_bound = guess[0m[33;108H[K[33;108H98,1[10C52%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            elif solverresult == 20:[0m[33;108H[K[33;108H99,1[10C53%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                # Unsatisfiable[0m[33;108H[K[33;108H100,1[9C54%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                lower_bound = guess[0m[33;108H[K[33;108H101,1[9C55%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H102,0-1[7C56%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            if lower_bound == upper_bound-1:[0m[33;108H[K[33;108H103,1[9C56%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;17H[34m# We've found the smallest k! It's the upper bound[0m[33;108H[K[33;108H104,1[9C57%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                solution = upper_bound[0m[33;108H[K[33;108H105,1[9C58%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[36mprint[0m([31m"Found solution: %d"[0m % solution)[33;108H[K[33;108H106,1[9C59%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#            else:[0m[33;108H[K[33;108H107,1[9C60%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[0m[33;108H[K[33;108H108,1[9C60%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mfinally[0m:[33;108H[K[33;108H109,1[9C61%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m# Delete the translation file, since it can become several gigs[0m[33;108H[K[33;108H110,1[9C62%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mif[0m os.path.isfile(translationfn):[33;108H[K[33;108H111,1[9C63%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hos.remove(translationfn)[33;108H[K[33;108H112,1[9C64%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mexcept[0m [32mKeyboardInterrupt[0m:[33;108H[K[33;108H113,1[9C64%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m# User wants to cancel[0m[33;108H[K[33;108H114,1[9C65%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mpass[0m[33;108H[K[33;108H115,1[9C66%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mexcept[0m TimeoutException:[33;108H[K[33;108H116,1[9C67%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m# MEEH, Time's up![0m[33;108H[K[33;108H117,1[9C68%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mpass[0m[33;108H[K[33;108H118,1[9C68%[32;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;1Htrace = collections.OrderedDict()

[34m# Your time starts... NOW![0m
signal.alarm(timeout)

[36mprint[0m([31m"Starting to solve %s with N=%d,M=%d"[0m % (instancename, N, M))

[33mtry[0m:
    [34m# Binary search for the solution
[0m    [34m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)
[0m    [34m#trace[guess] = {}[13;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[0m
    starttime = time.time()[16;5H[36mid[0m = [31m"gc-%s"[0m % instancename
    translationfn = [31m"%s/%s.lp"[0m % (translationdir, [36mid[0m)
    resultfn = [31m"%s/%.sol"[0m % (translationdir, [36mid[0m)[20;5H[33mtry[0m:[21;9Hgc_string_to_ilp_file(instance, translationfn, N)[22;9Htime_this_translation = time.time() - starttime[23;9H[34m#trace[guess]['trans'] = time_this_translation[0m[25;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[27;9Hstarttime = time.time()[29;9H[33mwith[0m [36mopen[0m([31m"%s/%s.lp"[0m % (solutiondir, [36mid[0m), [31m'wb'[0m) [33mas[0m solutionf:[30;13Hsolverresult = subprocess.call([31m"gurobi_cl ResultFile="[0m+resultfn+[31m" "[0m+translationfn, shell=[36mTrue[0m, stdout=solutionf)[32;9H[34m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[0m[33;108H88,9[10C44%[32;9H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[34m#timeout = 3600[0m
timeout = [31m1800[0m

[34m# Statistics we would like to keep[0m
instancename = [31m""[0m
time_spent_translating = [31m0[0m
time_spent_solving = [31m0[0m
solution = -[31m1[0m
lower_bound = [31m0[0m[13C[34m# Smallest k we know is unsatisfiable[0m
upper_bound = [36mfloat[0m([31m"inf"[0m)  [34m# Smallest k we know is satisfialble[0m

[33mclass[0m [36mTimeoutException[0m([32mException[0m):
    [33mpass
def[0m [36mtimeout_handler[0m(signum, frame):
    [33mraise[0m TimeoutException()
signal.signal(signal.SIGALRM, timeout_handler)

[33mif[0m([36mlen[0m(sys.argv) < [31m2[0m):
    instancefn = [36mraw_input[0m([31m'File: '[0m)
[33melse[0m:
    instancefn = sys.argv[[31m1[0m]

instancename = os.path.splitext(os.path.basename(instancefn))[[31m0[0m]
[33mwith[0m [36mopen[0m(instancefn) [33mas[0m instancef:
    instance = instancef.readlines()

(N,M,_) = read_DIGRAPH(instance)

upper_bound = N

trace = collections.OrderedDict()[33;108H58,0-1[8C20%[32;1H[34h[?25h[?25l[1;32r[1;1H[26L[1;33r[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[0m

[35mfrom[0m __future__ [35mimport[0m print_function

[35mimport[0m signal
[35mimport[0m sys
[35mimport[0m math
[35mimport[0m os
[35mimport[0m subprocess
[35mimport[0m time
[35mimport[0m json
[35mimport[0m collections
[35mfrom[0m gc_to_ilp_functions [35mimport[0m *

totaltimestart = time.time()

[34m# Folder to keep results in[0m
outputdir = [31m"benchmark"[0m
[34m# Solution folder[0m
solutiondir = outputdir+[31m"/solutions"[0m
translationdir = outputdir+[31m"/translations"[0m
resultfile = outputdir+[31m"/results_ilp.csv"[0m
tracedir = outputdir+[31m"/trace"[0m

[34m# Timeout in seconds for the ILP solver[0m[33;108H[K[33;108H28,1[10CTop[28;1H[34h[?25h[?25l[34h[?25h[?25l[23m[24m[0m[H[J[1;1Hinstancename = [31m""[0m
time_spent_translating = [31m0[0m
time_spent_solving = [31m0[0m
solution = -[31m1[0m
lower_bound = [31m0[0m[13C[34m# Smallest k we know is unsatisfiable[0m
upper_bound = [36mfloat[0m([31m"inf"[0m)  [34m# Smallest k we know is satisfialble[0m

[33mclass[0m [36mTimeoutException[0m([32mException[0m):
    [33mpass
def[0m [36mtimeout_handler[0m(signum, frame):
    [33mraise[0m TimeoutException()
signal.signal(signal.SIGALRM, timeout_handler)

[33mif[0m([36mlen[0m(sys.argv) < [31m2[0m):
    instancefn = [36mraw_input[0m([31m'File: '[0m)
[33melse[0m:
    instancefn = sys.argv[[31m1[0m]

instancename = os.path.splitext(os.path.basename(instancefn))[[31m0[0m]
[33mwith[0m [36mopen[0m(instancefn) [33mas[0m instancef:
    instance = instancef.readlines()

(N,M,_) = read_DIGRAPH(instance)

upper_bound = N

trace = collections.OrderedDict()

[34m# Your time starts... NOW![0m
signal.alarm(timeout)

[36mprint[0m([31m"Starting to solve %s with N=%d,M=%d"[0m % (instancename, N, M))[33;108H31,1[10C24%[1;1H[34h[?25h[?25l[23m[24m[0m[H[J[2;1H[36mprint[0m([31m"Starting to solve %s with N=%d,M=%d"[0m % (instancename, N, M))

[33mtry[0m:
    [34m# Binary search for the solution
[0m    [34m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)
[0m    [34m#trace[guess] = {}[9;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[0m
    starttime = time.time()[12;5H[36mid[0m = [31m"gc-%s"[0m % instancename
    translationfn = [31m"%s/%s.lp"[0m % (translationdir, [36mid[0m)
    resultfn = [31m"%s/%.sol"[0m % (translationdir, [36mid[0m)[16;5H[33mtry[0m:[17;9Hgc_string_to_ilp_file(instance, translationfn, N)[18;9Htime_this_translation = time.time() - starttime[19;9H[34m#trace[guess]['trans'] = time_this_translation[0m[21;9H[36mprint[0m([31m"Translation complete, now starting to solve"[0m)[23;9Hstarttime = time.time()[25;9H[33mwith[0m [36mopen[0m([31m"%s/%s.lp"[0m % (solutiondir, [36mid[0m), [31m'wb'[0m) [33mas[0m solutionf:[26;13Hsolverresult = subprocess.call([31m"gurobi_cl ResultFile="[0m+resultfn+[31m" "[0m+translationfn, shell=[36mTrue[0m, stdout=solutionf)[28;9H[34m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[0m[29;9Htime_this_solving = time.time() - starttime[30;9Htime_spent_solving +=  time_this_solving[31;9Htime_spent_translating += time_this_translation[32;9H[34m#trace[guess]['solve'] = time_this_solving[0m[33;108H61,0-1[8C48%[1;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;9Htime_spent_translating += time_this_translation[2;9H[34m#trace[guess]['solve'] = time_this_solving[3;9H#trace[guess]['this'] = time_this_translation+time_this_solving[4;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating

#            if solverresult == 10:
#                # Satisfiable
#                upper_bound = guess
#            elif solverresult == 20:
#                # Unsatisfiable
#                lower_bound = guess

#            if lower_bound == upper_bound-1:[14;17H# We've found the smallest k! It's the upper bound
#                solution = upper_bound[0m[16;9H[36mprint[0m([31m"Found solution: %d"[0m % solution)
[34m#            else:
#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[0m
    [33mfinally[0m:[20;9H[34m# Delete the translation file, since it can become several gigs[0m[21;9H[33mif[0m os.path.isfile(translationfn):[22;13Hos.remove(translationfn)
[33mexcept[0m [32mKeyboardInterrupt[0m:
    [34m# User wants to cancel[0m
    [33mpass
except[0m TimeoutException:
    [34m# MEEH, Time's up![0m
    [33mpass[0m

[34m# Done!
# Cancel timeout[0m
signal.alarm([31m0[0m)[33;108H91,9[10C72%[1;9H[34h[?25h[?25l[33;108H[K[33;1H:[34h[?25hq[?25l[34h[?25h[?25l[33;1H[K[33;1H[?1l>[34h[?25h[?1049lin4336@ubuntu:~/repo/gc$ git commit benchmark_ilp.py 
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                    File: /home/in4336/repo/.git/COMMIT_EDITMSG                                              [4;1H[m# Please enter the commit message for your changes. Lines starting[1B# with '#' will be ignored, and an empty message aborts the commit.[1B# Explicit paths specified without -i nor -o; assuming --only paths...[1B# On branch master[1B# Your branch is up-to-date with 'origin/master'.[1B#[1B# Changes to be committed:[1B#[7Cmodified:   benchmark_ilp.py[1B#[1B# Changes not staged for commit:[1B#[7Cmodified:   gc_to_ilp.py[1B#[7Cmodified:   standard_benchmark/Makefile[1B#[7Cmodified:   standard_benchmark/dfmax[1B#[7Cmodified:   ../ilp/gc2.lp[1B#[7Cmodified:   ../ilp/main.c[1B#[1B# Untracked files:[1B#[7Cbenchmark/results_ilp.csv[1B#[7Cbenchmark/solutions/gc-1-Fulllns_3.lp[1B#[7Cbenchmark/solutions/screenlog.0[1B#[7Cgc-1-Insertions_4.lp[1B#[7Cgc_to_ilp_functions.py[1B#[7Cgurobi[1B#[7Csat-instances/[1B#[7Ctest/[1B#[7Cto-benchmark/[1B#[7C../ilp/a.out[31;55H[0;7m[ Read 29 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[29B[J[33;125H[33;1H[?1049l[?1l>Aborting commit due to empty commit message.
in4336@ubuntu:~/repo/gc$ git add gc_to_ilp.py 
in4336@ubuntu:~/repo/gc$ git commit
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                    File: /home/in4336/repo/.git/COMMIT_EDITMSG                                              [4;1H[m# Please enter the commit message for your changes. Lines starting[1B# with '#' will be ignored, and an empty message aborts the commit.[1B# On branch master[1B# Your branch is up-to-date with 'origin/master'.[1B#[1B# Changes to be committed:[1B#[7Cmodified:   gc_to_ilp.py[1B#[1B# Changes not staged for commit:[1B#[7Cmodified:   benchmark_ilp.py[1B#[7Cmodified:   standard_benchmark/Makefile[1B#[7Cmodified:   standard_benchmark/dfmax[1B#[7Cmodified:   ../ilp/gc2.lp[1B#[7Cmodified:   ../ilp/main.c[1B#[1B# Untracked files:[1B#[7Cbenchmark/results_ilp.csv[1B#[7Cbenchmark/solutions/gc-1-Fulllns_3.lp[1B#[7Cbenchmark/solutions/screenlog.0[1B#[7Cgc-1-Insertions_4.lp[1B#[7Cgc_to_ilp_functions.py[1B#[7Cgurobi[1B#[7Csat-instances/[1B#[7Ctest/[1B#[7Cto-benchmark/[1B#[7C../ilp/a.out[1B#[31;55H[0;7m[ Read 28 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[1;116H[0;7mModified[2B[mUpdates[28B[0;7mFile Name to Write: /home/in4336/repo/.git/COMMIT_EDITMSG                                                                    [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;58H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 28 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[3;8H[29B[J[33;125H[33;1H[?1049l[?1l>[master e9c9cef] Updates
 1 file changed, 1 insertion(+), 1 deletion(-)
in4336@ubuntu:~/repo/gc$ git pui[Ksh
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
in4336@ubuntu:~/repo/gc$ nano benchmark_[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgit push
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
in4336@ubuntu:~/repo/gc$ test[K[K[K[Kcd test
in4336@ubuntu:~/repo/gc/test$ ls -l
total 4
drwxrwxr-x 7 in4336 in4336 4096 Oct 16 09:16 [0m[01;34min4336[0m
in4336@ubuntu:~/repo/gc/test$ cd oi[K[Kin4336/
in4336@ubuntu:~/repo/gc/test/in4336$ ls -l
total 20
drwxrwxr-x 8 in4336 in4336 4096 Oct 16 11:05 [0m[01;34mgc[0m
drwxrwxr-x 2 in4336 in4336 4096 Oct 16 10:44 [01;34milp[0m
drwxrwxr-x 4 in4336 in4336 4096 Oct 16 09:16 [01;34mRCPSP[0m
-rw-rw-r-- 1 in4336 in4336   47 Oct 16 09:16 README.md
drwxrwxr-x 4 in4336 in4336 4096 Oct 16 09:16 [01;34msat[0m
in4336@ubuntu:~/repo/gc/test/in4336$ git pul[K[K[K[K[K[K[Kgit push[K=[K[K[K[K[K[K[K[Kcd ../
in4336@ubuntu:~/repo/gc/test$ cd ../
in4336@ubuntu:~/repo/gc$ rm -r test
rm: remove write-protected regular file ‘test/in4336/.git/objects/pack/pack-c0eafafcd8cfbe5780daab458f0129515f2605ec.idx’? ^C
in4336@ubuntu:~/repo/gc$ rm -r testf test
in4336@ubuntu:~/repo/gc$ ls -l
total 764
drwxrwxr-x 5 in4336 in4336   4096 Oct 16 11:07 [0m[01;34mbenchmark[0m
-rw-rw-r-- 1 in4336 in4336   4603 Oct 16 11:18 benchmark_ilp.py
-rwxrwxr-x 1 in4336 in4336   5639 Oct 14 15:01 [01;32mbenchmark.py[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  1 02:22 [01;34mconverter[0m
-rw-rw-r-- 1 in4336 in4336  20859 Oct  1 02:22 DIGRAPH format.htm
-rw-rw-r-- 1 in4336 in4336 672545 Oct 16 08:06 gc-1-Insertions_4.lp
-rw-rw-r-- 1 in4336 in4336   2376 Oct 16 10:56 gc_to_ilp_functions.py
-rw-rw-r-- 1 in4336 in4336   2379 Oct 16 11:03 gc_to_ilp_functions.pyc
-rwxrwxr-x 1 in4336 in4336   2450 Oct 16 10:56 [01;32mgc_to_ilp.py[0m
-rwxrwxr-x 1 in4336 in4336   3399 Oct  9 06:28 [01;32mgc_to_sat_functions.py[0m
-rw-rw-r-- 1 in4336 in4336   3050 Oct  9 06:28 gc_to_sat_functions.pyc
-rwxrwxr-x 1 in4336 in4336   1012 Oct  9 06:02 [01;32mgc_to_sat.py[0m
-rwxrwxr-x 1 in4336 in4336   1416 Oct  9 02:22 [01;32mgc_to_sat_verify.py[0m
lrwxrwxrwx 1 in4336 in4336     33 Oct 16 07:57 [01;36mgurobi[0m -> [01;32m/opt/gurobi/linux64/bin/gurobi.sh[0m
-rw-rw-r-- 1 in4336 in4336   2424 Oct 16 11:28 gurobi.log
drwxrwxr-x 2 in4336 in4336   4096 Oct 16 06:12 [01;34minstances[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  9 06:12 [01;34moutput[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  9 02:45 [01;34msat-instances[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  9 07:01 [01;34mstandard_benchmark[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  1 02:22 [01;34mtest-instances[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct 16 06:14 [01;34mto-benchmark[0m
in4336@ubuntu:~/repo/gc$ git add gc_to_sat_functions.py
in4336@ubuntu:~/repo/gc$ git commit
On branch master
Your branch and 'origin/master' have diverged,
and have 2 and 2 different commits each, respectively.
  (use "git pull" to merge the remote branch into yours)

Changes not staged for commit:
	[31mmodified:   standard_benchmark/Makefile[m
	[31mmodified:   standard_benchmark/dfmax[m
	[31mmodified:   ../ilp/gc2.lp[m
	[31mmodified:   ../ilp/main.c[m

Untracked files:
	[31mbenchmark/results_ilp.csv[m
	[31mbenchmark/solutions/gc-1-Fulllns_3.lp[m
	[31mbenchmark/solutions/screenlog.0[m
	[31mgc-1-Insertions_4.lp[m
	[31mgc_to_ilp_functions.py[m
	[31mgurobi[m
	[31msat-instances/[m
	[31mto-benchmark/[m
	[31m../ilp/a.out[m

no changes added to commit
in4336@ubuntu:~/repo/gc$ git merge origin/master
error: The following untracked working tree files would be overwritten by merge:
	gc/gc_to_ilp_functions.py
Please move or remove them before you can merge.
Aborting
in4336@ubuntu:~/repo/gc$ git add gt_to[K[K[K[Kc_to_ilp_functions.py 
in4336@ubuntu:~/repo/gc$ git commit
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                    File: /home/in4336/repo/.git/COMMIT_EDITMSG                                              [4;1H[m# Please enter the commit message for your changes. Lines starting[1B# with '#' will be ignored, and an empty message aborts the commit.[1B# On branch master[1B# Your branch and 'origin/master' have diverged,[1B# and have 2 and 2 different commits each, respectively.[1B#   (use "git pull" to merge the remote branch into yours)[1B#[1B# Changes to be committed:[1B#[7Cnew file:   gc_to_ilp_functions.py[1B#[1B# Changes not staged for commit:[1B#[7Cmodified:   standard_benchmark/Makefile[1B#[7Cmodified:   standard_benchmark/dfmax[1B#[7Cmodified:   ../ilp/gc2.lp[1B#[7Cmodified:   ../ilp/main.c[1B#[1B# Untracked files:[1B#[7Cbenchmark/results_ilp.csv[1B#[7Cbenchmark/solutions/gc-1-Fulllns_3.lp[1B#[7Cbenchmark/solutions/screenlog.0[1B#[7Cgc-1-Insertions_4.lp[1B#[7Cgurobi[1B#[7Csat-instances/[1B#[7Cto-benchmark/[1B#[7C../ilp/a.out[1B#[31;55H[0;7m[ Read 27 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[1;116H[0;7mModified[2B[mF[KILP functionsO [28B[0;7mFile Name to Write: /home/in4336/repo/.git/COMMIT_EDITMSG                                                                    [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;58H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 27 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[3;14H[29B[J[33;125H[33;1H[?1049l[?1l>[master cea1ad9] ILP functions
 1 file changed, 77 insertions(+)
 create mode 100644 gc/gc_to_ilp_functions.py
in4336@ubuntu:~/repo/gc$ git pull
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
in4336@ubuntu:~/repo/gc$ babi veb[K=[K[K[K[K[K[K[K[Knano benchmark_ilp.py 
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                           File: benchmark_ilp.py                                                            [3;1H[0;1m[31m#!/usr/bin/env python[1B# -*- coding: utf-8 -*-[2B[36mfrom[39m[m __future__ [0;1m[36mimport[39m[m print_function[2B[0;1m[36mimport[39m[m signal[1B[0;1m[36mimport[39m[m sys[1B[0;1m[36mimport[39m[m math[1B[0;1m[36mimport[39m[m os[1B[0;1m[36mimport[39m[m subprocess[1B[0;1m[36mimport[39m[m time[1B[0;1m[36mimport[39m[m json[1B[0;1m[36mimport[39m[m collections[1B[0;1m[36mfrom[39m[m gc_to_ilp_functions [0;1m[36mimport[39m[m *[2Btotaltimestart = time.time()[2B[0;1m[31m# Folder to keep results in[1B[39m[moutputdir = [0;1m[32m"benchmark"[1B[31m# Solution folder[1B[39m[msolutiondir = outputdir+[0;1m[32m"/solutions"[1B[39m[mtranslationdir = outputdir+[0;1m[32m"/translations"[1B[39m[mresultfile = outputdir+[0;1m[32m"/results_ilp.csv"[1B[39m[mtracedir = outputdir+[0;1m[32m"/trace"[2B[31m# Timeout in seconds for the ILP solver[1B#timeout = 3600[1B[39m[mtimeout = 1800[31;54H[0;7m[ Read 200 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[C[0;1m[31mtimeout = 3600[39m[m[K[1Btimeout = 1800[K[2B[0;1m[31m# Statistics we would like to keep[39m[m   [1Binstancename = ""[1Btime_spent_translating = 0[1Btime_spent_solving = 0[1Bsolution = -1[1Blower_bound = 0[11;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[1B[39m[m[K[1B[0;1m[36mclass[39m[m TimeoutException(Exception):[1B    [0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[17;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[2B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[1B    instancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1B    instancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[27;5Hinstance = instancef.readlines()[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[1B[K[27A(N,M,_) = read_DIGRAPH(instance)[1B[K[1Bupper_bound = N[1B[K[1Btrace = collections.OrderedDict()[1B[K[1B[0;1m[31m# Your time starts... NOW![10;2H[39m[mignal.alarm(timeout)[1B[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[K[1B<<<<<<< HEAD[1B    [0;1m[31m# Binary search for the solution[17;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[1B[39m[m    [0;1m[31m#trace[guess] = {}[39m[m[K[2B    [0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[21;5H[39m[mstarttime = time.time()[K[1B=======[23;5H[0;1m[36mwhile[39m[m solution == -1:   [24;9H[0;1m[31m# Binary search for the solution[25;8H[39m[m[1K [0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[26;8H[39m[m[1K [0;1m[31m#trace[guess] = {}[39m[m[K[1B[K[28;9H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[29;8H[39m[m[1K starttime = time.time()[K[26A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[5B[K[4A[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;9Hid = [0;1m[32m"gc-%s"[39m[m % instancename[17;9Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[18;17Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[20;9H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[23;13Htime_this_translation = time.time() - starttime[24;13H[0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[27;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[28;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[29;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[13A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BMMMMMMMMMMMMMMMMMMMMMMMMM[2;30r[2;1H[15L[1;33r[3;1H(N,M,_) = read_DIGRAPH(instance)[2Bupper_bound = N[2Btrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![1B[39m[msignal.alarm(timeout)[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[1B<<<<<<< HEAD[16;5H[0;1m[31m# Binary search for the solution[17;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[39m[mMMMMMMMMM[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BM[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;9Hid = [0;1m[32m"gc-%s"[39m[m % instancename[17;9Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[18;17Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[20;9H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[23;13Htime_this_translation = time.time() - starttime[24;13H[0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[27;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[28;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[29;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[13A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;16H[1K resultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[5;5H    [0;1m[36mtry[39m[m:[K[1B[1K gc_string_to_ilp_file(instance, translationfn, N)[1B[K[8;12H[1K time_this_translation = time.time() - starttime[9;9H    [0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[K[1B[K[12;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[13;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[K[14;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[16;5H[0;1m[36mtry[39m[m:[K[1Bgc_string_to_ilp_file(instance, translationfn, N[18;9Htime_this_translation = time.time() - starttime[K[19;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m[K[1B<<<<<<< HEAD[K[22;9H[0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[1B[K[24;9Hstarttime = time.time()[K[1B[K[26;9H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[27;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[1B[K[29;5H    [0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[30;9H[39m[mtime_this_solving = time.time() - starttime[14A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;9Htime_spent_solving +=  time_this_solving[17;9Htime_spent_translating += time_this_translation[18;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[19;9H#trace[guess]['this'] = time_this_translation+time_this_solving[20;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m=======[22;13H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[23;17Hsolverresult = subprocess.call([0;1m[32m"gurobi ResulFile="[39m[m +resultfn+ [0;1m[32m" "[39m[m +translationfn, shell=True, stdout=solutio$[25;13H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the [39m[m$[26;13Htime_this_solving = time.time() - starttime[27;13Htime_spent_solving +=  time_this_solving[28;13Htime_spent_translating += time_this_translation[29;13H[0;1m[31m#trace[guess]['solve'] = time_this_solving[30;13H#trace[guess]['this'] = time_this_translation+time_this_solving[14A[39m[m[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[39m[m[K[4;25H[0;1m[31mhis'] = time_this_translation+time_this_solving[5;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m=======[K[1B     [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[8;17Hsolverresult = subprocess.call([0;1m[32m"gurobi ResulFile="[39m[m +resultfn+ [0;1m[32m" "[39m[m +translationfn, shell=True, stdout=solutio$[9;1H[K[10;13H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the [39m[m$[11;9H    time_this_solving = time.time() - starttime[K[12;13Htime_spent_solving +=  time_this_solving[K[13;13Htime_spent_translating += time_this_translation[14;9H    [0;1m[31m#trace[guess]['solve'] = time_this_solving[39m[m[K[15;9H    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[16;9H[39m[m    [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[K[1B[K[1B[0;1m[31m#            if solverresult == 10:[39m[m[K[1B[0;1m[31m#                # Satisfiable[39m[m[K[1B[0;1m[31m#                upper_bound = guess[1B#            elif solverresult == 20:[39m[m[K[1B[0;1m[31m#                # Unsatisfiable[39m[m[K[1B[0;1m[31m#                lower_bound = guess[1B[39m[m[K[1B[0;1m[31m#            if lower_bound == upper_bound-1:[39m[m[K[27;13H    [0;1m[31m# We've found the smallest k! It's the upper bound[1B#                solution = upper_bound[39m[m[K[1B<<<<<<< HEAD[K[30;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[K[14A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BM[1B[27A[K[1B[0;1m[31m#            if solverresult == 10:[39m[m[K[1B[0;1m[31m#                # Satisfiable[39m[m[K[1B[0;1m[31m#                upper_bound = guess[1B#            elif solverresult == 20:[39m[m[K[1B[0;1m[31m#                # Unsatisfiable[39m[m[K[1B[0;1m[31m#                lower_bound = guess[1B[39m[m[K[1B[0;1m[31m#            if lower_bound == upper_bound-1:[39m[m[K[12;13H    [0;1m[31m# We've found the smallest k! It's the upper bound[1B#                solution = upper_bound[39m[m[K[1B<<<<<<< HEAD[K[15;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[K[1B[0;1m[31m#            else:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[18;5H[36mfinally[39m[m:[19;8H[1K [0;1m[31m# Delete the translation file, since it can become several gigs[20;8H[39m[m[1K [0;1m[36mif[39m[m os.path.isfile(translationfn):[21;12H[1K os.remove(translationfn)[1B=======[K[23;12H[1K [0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[24;14H[0;1m[31melse:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[26;8H[39m[m[1K [0;1m[36mfinally[39m[m:[K[27;13H[0;1m[31m# Delete the translation file, since it can become several gigs[28;12H[39m[m[1K [0;1m[36mif[39m[m os.path.isfile(translationfn):[29;16H[1K os.remove(translationfn)[1B>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[14A[1B[1B[1B[1B[1BMMMMMMMMMMMM[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;1H[0;1m[36mexcept[39m[m KeyboardInterrupt:[17;5H[0;1m[31m# User wants to cancel[18;5H[36mpass[1Bexcept[39m[m TimeoutException:[20;5H[0;1m[31m# MEEH, Time's up![21;5H[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[14A[1B[1B[1B[1B[1B[1B[1B[1BMMMMMMMMMMMMM[1B[1B[1B[1B[1BMMMMMMMMMMMMM[2;30r[2;1H[15L[1;33r[4;1H[0;1m[31m#            if solverresult == 10:[1B#                # Satisfiable[1B#                upper_bound = guess[1B#            elif solverresult == 20:[1B#                # Unsatisfiable[1B#                lower_bound = guess[2B#            if lower_bound == upper_bound-1:[12;17H# We've found the smallest k! It's the upper bound[1B#                solution = upper_bound[1B[39m[m<<<<<<< HEAD[15;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[39m[mMMMMMMMMMMMMMM[3;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[4;8H[39m[m[1K [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[5;8H[39m[m[1K [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m=======[K[7;12H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[8;16H[1K solverresult = subprocess.call([0;1m[32m"gurobi ResulFile="[39m[m +resultfn+ [0;1m[32m" "[39m[m +translationfn, shell=True, stdout=solutio$[9;1H[K[10;13H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the [39m[m$[11;12H[1K time_this_solving = time.time() - starttime[12;13Htime_spent_solving +=  time_this_solving[K[13;12H[1K time_spent_translating += time_this_translation[14;12H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[15;9H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[16;12H[39m[m[1K [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[K[1B[K[1B[0;1m[31m#            if solverresult == 10:[39m[m[K[1B[0;1m[31m#                # Satisfiable[39m[m[K[1B[0;1m[31m#                upper_bound = guess[1B#            elif solverresult == 20:[1B#                # Unsatisfiable[39m[m[K[24;14H[0;1m[31m    lower_bound = guess[1B[39m[m[K[1B[0;1m[31m#            if lower_bound == upper_bound-1:[27;13H[39m[m    [0;1m[31m# We've found the smallest k! It's the upper bound[39m[m[K[1B[0;1m[31m#                solution = upper_bound[39m[m[K[1B<<<<<<< HEAD[K[30;8H[1K [0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)  [13AMMMMMMMMMMMMMM[3;9Htime_this_translation = time.time() - starttime[4;25H[0;1m[31mrans'] = time_this_translation[39m[m[K[1B[K[1B<<<<<<< HEAD[7;9H[0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[K[1B[K[9;9Hstarttime = time.time()[1B[K[11;9H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[12;13Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[1B[K[14;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[15;9H[39m[mtime_this_solving = time.time() - starttime[K[16;9Htime_spent_solving +=  time_this_solving[K[17;8H[1K time_spent_translating += time_this_translation[18;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[19;8H[39m[m[1K [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[20;8H[39m[m[1K [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m=======[K[22;12H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[23;16H[1K solverresult = subprocess.call([0;1m[32m"gurobi ResulFile="[39m[m +resultfn+ [0;1m[32m" "[39m[m +translationfn, shell=True, stdout=solutio$[24;1H[K[25;13H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the [39m[m$[26;12H[1K time_this_solving = time.time() - starttime[27;13Htime_spent_solving +=  time_this_solving[K[28;12H[1K time_spent_translating += time_this_translation[29;12H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[30;9H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[13A[39m[mMMMMMMMMMMMMMM[2;31r[2;1H[15L[1;33r[3;17Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[5;9H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[8;13Htime_this_translation = time.time() - starttime[9;13H[0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[12;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[13;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[14;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[16;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[14B[K[14AMMMMMMMMMMMMMM[2;31r[2;1H[15L[1;33r[3;5H[0;1m[31m#trace[guess] = {}[5;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[6;5H[39m[mstarttime = time.time()[1B=======[8;5H[0;1m[36mwhile[39m[m solution == -1:[9;9H[0;1m[31m# Binary search for the solution[10;9H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[11;9H#trace[guess] = {}[13;9H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[14;9H[39m[mstarttime = time.time()[16;9Hid = [0;1m[32m"gc-%s"[39m[m % instancename[17;9Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[14B[K[14AMMMMMMM[1BMMMMMMMM[2;30r[2;1H[15L[1;33r[3;1H(N,M,_) = read_DIGRAPH(instance)[2Bupper_bound = N[2Btrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![1B[39m[msignal.alarm(timeout)[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[1B<<<<<<< HEAD[16;5H[0;1m[31m# Binary search for the solution[17;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[39m[mMMMMMM[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BMMMMMMM[15;31r[31;1H
[1;33r[1;116H[0;7mModified[30;9H[mid = [0;1m[32m"gc-%s"[39m[m % instancename[15A[1B[1B[1B[1B[1B[1B[1BM[21;31r[31;1H
[1;33r[30;9Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[9A[21;31r[31;1H
[1;33r[30;17Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[9A[21;31r[31;1H
[1;33r[21;1H[21;31r[31;1H
[1;33r[30;9H[0;1m[36mtry[39m[m:[9A[21;31r[31;1H
[1;33r[30;13Hgc_string_to_ilp_file(instance, translationfn, N)[9A[21;31r[31;1H
[1;33r[21;1H[21;31r[31;1H
[1;33r[30;13Htime_this_translation = time.time() - starttime[9A[21;31r[31;1H
[1;33r[30;13H[0;1m[31m#trace[guess]['trans'] = time_this_translation[9A[39m[m[21;31r[31;1H
[1;33r[30;1H>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[9A[21;31r[31;1H
[1;33r[21;1H[21;31r[31;1H
[1;33r[30;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[9A[21;31r[31;1H
[1;33r[30;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[9A[21;31r[31;1H
[1;33r[30;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[9A[21;31r[31;1H
[1;33r[21;1H[21;31r[31;1H
[1;33r[30;5H[0;1m[36mtry[39m[m:[9A[21;31r[31;1H
[1;33r[30;9Hgc_string_to_ilp_file(instance, translationfn, N)[9A[21;31r[31;1H
[1;33r[30;9Htime_this_translation = time.time() - starttime[9A[21;31r[31;1H
[1;33r[30;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[9A[39m[m[21;31r[31;1H
[1;33r[21;1H[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;1H<<<<<<< HEAD[17;9H[0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[19;9Hstarttime = time.time()[21;9H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[22;13Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[24;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[25;9H[39m[mtime_this_solving = time.time() - starttime[26;9Htime_spent_solving +=  time_this_solving[27;9Htime_spent_translating += time_this_translation[28;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[29;9H#trace[guess]['this'] = time_this_translation+time_this_solving[30;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[14A[39m[m[1BM[3;9H[0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[4;5H[39m[m    [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[39m[m[K[1B=======[K[6;13H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[7;16H[1K solverresult = subprocess.call([0;1m[32m"gurobi ResulFile="[39m[m +resultfn+ [0;1m[32m" "[39m[m +translationfn, shell=True, stdout=solutio$[8;1H[K[9;12H[1K [0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the [39m[m$[10;13Htime_this_solving = time.time() - starttime[11;12H[1K time_spent_solving +=  time_this_solving[12;9H    time_spent_translating += time_this_translation[13;9H    [0;1m[31m#trace[guess]['solve'] = time_this_solving[39m[m [14;9H    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[15;13H#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[1B[K[1B[0;1m[31m#            if solverresult == 10:[1B#                # Satisfiable[39m[m [1B[0;1m[31m#                upper_bound = guess[1B#            elif solverresult == 20:[39m[m[K[1B[0;1m[31m#                # Unsatisfiable[39m[m[K[1B[0;1m[31m#                lower_bound = guess[1B[39m[m[K[1B[0;1m[31m#            if lower_bound == upper_bound-1:[39m[m[K[26;16H[1K [0;1m[31m# We've found the smallest k! It's the upper bound[1B#                solution = upper_bound[39m[m[K[1B<<<<<<< HEAD[K[29;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[K[1B[0;1m[31m#            else:[39m[m[K[27A[3;25H[0;1m[31mrans'] = time_this_translation[39m[m[K[1B[K[1B<<<<<<< HEAD[6;9H[0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[K[1B[K[8;9Hstarttime = time.time()[1B[K[10;9H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[11;13Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[1B[K[13;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[14;9H[39m[mtime_this_solving = time.time() - starttime[K[15;9Htime_spent_solving +=  time_this_solving[K[16;8H[1K time_spent_translating += time_this_translation[17;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[18;8H[39m[m[1K [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[19;8H[39m[m[1K [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m=======[K[21;12H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[22;16H[1K solverresult = subprocess.call([0;1m[32m"gurobi ResulFile="[39m[m +resultfn+ [0;1m[32m" "[39m[m +translationfn, shell=True, stdout=solutio$[23;1H[K[24;13H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the [39m[m$[25;12H[1K time_this_solving = time.time() - starttime[26;13Htime_spent_solving +=  time_this_solving[K[27;12H[1K time_spent_translating += time_this_translation[28;12H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[29;9H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[30;12H[39m[m[1K [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[13A[39m[m[1BMMMMMMMMMMMMM[5;31r[31;1H
[1;33r[30;1H>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[25A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[19;31r[31;1H
[1;33r[19;1H[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#            if solverresult == 10:[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                # Satisfiable[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                upper_bound = guess[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#            elif solverresult == 20:[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                # Unsatisfiable[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                lower_bound = guess[11A[39m[m[19;31r[31;1H
[1;33r[19;1H[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#            if lower_bound == upper_bound-1:[11A[39m[m[19;31r[31;1H
[1;33r[30;17H[0;1m[31m# We've found the smallest k! It's the upper bound[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                solution = upper_bound[11A[39m[m[19;31r[31;1H
[1;33r[30;1H<<<<<<< HEAD[11A[19;31r[31;1H
[1;33r[30;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[11A[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#            else:[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[11A[39m[m[19;31r[31;1H
[1;33r[30;5H[0;1m[36mfinally[39m[m:[11A[19;31r[31;1H
[1;33r[30;9H[0;1m[31m# Delete the translation file, since it can become several gigs[11A[39m[m[19;31r[31;1H
[1;33r[30;9H[0;1m[36mif[39m[m os.path.isfile(translationfn):[11A[19;31r[31;1H
[1;33r[30;13Hos.remove(translationfn)[11A[19;31r[31;1H
[1;33r[30;1H=======[11A[19;31r[31;1H
[1;33r[30;13H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[11A[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#            else:[11A[39m[m[19;31r[31;1H
[1;33r[30;1H[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[11A[39m[m[19;31r[31;1H
[1;33r[30;9H[0;1m[36mfinally[39m[m:[11A7[19;30r8M[1;33r[20;1H[1B[1B[1B[1B[1B[1B[1B[1BM[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;9H[0;1m[36mfinally[39m[m:[17;13H[0;1m[31m# Delete the translation file, since it can become several gigs[18;13H[36mif[39m[m os.path.isfile(translationfn):[19;17Hos.remove(translationfn)[1B>>>>>>> e53373fa6b8ef9f1fa1f5f0d251fada3eba5efbb[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[22;5H[0;1m[31m# User wants to cancel[23;5H[36mpass[1Bexcept[39m[m TimeoutException:[25;5H[0;1m[31m# MEEH, Time's up![26;5H[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[14A[1B[1BMMMMMM[12;31r[31;1H
[1;33r[12;1H[12;31r[31;1H
[1;33r[30;1H[0;1m[31m# Report in addition: N[18A[39m[m[12;31r[31;1H
[1;33r[12;1H[12;31r[31;1H
[1;33r[30;1Houtput = ""[18A[12;31r[31;1H
[1;33r[30;1H[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[18A[12;31r[31;1H
[1;33r[30;5H[0;1m[31m# So excel knows what separator to use[18A[39m[m[12;31r[31;1H
[1;33r[30;5Houtput = [0;1m[32m"sep=,\n"[18A[39m[m[12;31r[31;1H
[1;33r[30;5Houtput += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[18A[39m[m[12;31r[31;1H
[1;33r[12;1H7[12;31r8M[1;33r[13;1H[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[17;1Htime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[19;9H(instancename,[20;10HN,[1BM,[1Bsolution,[23;10Hlower_bound,[24;10Hupper_bound,[25;10Htime_spent_translating,[26;10Htime_spent_solving,[27;10Htime_spent_total,[28;10Htimeout,[29;10H"\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[30;9H)[14A[1B[1B[1B[1B[1B[21;12H[3;9H[1K "\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[4;9H)[1B[K[1B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[7;8H[1K [0;1m[36mprint[39m[m(output, file=resultf)[2B[0;1m[36mif[39m[m solution != -1:[K[10;5H[0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[1B    [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)[K[1B[K[1B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[K[16;5H[0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[13A[3;5H[0;1m[36mpass[39m[m[K[1B[K[1B[0;1m[31m# Done![1B# Cancel timeout[39m[m[K[1Bsignal.alarm(0)[K[2B[0;1m[31m# Report in addition: N[1B[39m[m[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[13;5H[0;1m[31m# So excel knows what separator to use[14;5H[39m[moutput = [0;1m[32m"sep=,\n"[1B[39m[m    output += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[19;9H(instancename,[20;10HN,[1BM,[1Bsolution,[23;10Hlower_bound,[24;10Hupper_bound,[25;10Htime_spent_translating,[26;10Htime_spent_solving,[27;10Htime_spent_total,[28;10Htimeout,[29;10H"\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[30;9H)[27A        starttime = time.time()[5;8H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[6;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[1B[K[8;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[9;8H[39m[m[1K time_this_solving = time.time() - starttime[10;9Htime_spent_solving +=  time_this_solving[11;8H[1K time_spent_translating += time_this_translation[12;8H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[13;5H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[14;5H[39m[m    [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[16;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[19;5H[36mfinally[39m[m:[K[20;9H[0;1m[31m# Delete the translation file, since it can become several gigs[21;9H[36mif[39m[m os.path.isfile(translationfn):[22;10H   os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[25;5H[0;1m[31m# User wants to cancel[39m[m[K[26;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mexcept[39m[m TimeoutException:  [28;5H[0;1m[31m# MEEH, Time's up![29;5H[36mpass[39m[m[K[1B[K[27Atrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![39m[m[K[1Bsignal.alarm(timeout)[K[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[K[1B[K[1B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[39m[m[K[12;5H[0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[13;5H#trace[guess] = {}[39m[m[K[1B[K[15;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[16;5H[39m[mstarttime = time.time()[K[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[K[19;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[20;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[K[1B[K[22;5H[0;1m[36mtry[39m[m:[K[1Bgc_string_to_ilp_file(instance, translationfn, N)[24;8H[1K time_this_translation = time.time() - starttime[25;5H    [0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m[K[27;8H[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[1B[K[29;5H    starttime = time.time()[26Ainstancename = ""[K[1Btime_spent_translating = 0[1Btime_spent_solving = 0[K[1Bsolution = -1[K[1Blower_bound = 0[7;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[39m[m   [2B[0;1m[36mclass[39m[m TimeoutException(Exception):[11;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[K[13;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[1B[K[1B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[17;5Hinstancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1Binstancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[23;5Hinstance = instancef.readlines()[K[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[K[2Bupper_bound = N[K[2Btrace = collections.OrderedDict()[26A[K[1B[0;1m[36mimport[39m[m signal[K[1B[0;1m[36mimport[39m[m sys[K[1B[0;1m[36mimport[39m[m math  [1B[0;1m[36mimport[39m[m os[K[1B[0;1m[36mimport[39m[m subprocess[K[1B[0;1m[36mimport[39m[m time[1B[0;1m[36mimport[39m[m json[K[1B[0;1m[36mimport[39m[m collections[1B[0;1m[36mfrom[39m[m gc_to_ilp_functions [0;1m[36mimport[39m[m *  [1B[K[1Btotaltimestart = time.time()[K[2B[0;1m[31m# Folder to keep results in[1B[39m[moutputdir = [0;1m[32m"benchmark"[39m[m[K[1B[0;1m[31m# Solution folder[1B[39m[msolutiondir = outputdir+[0;1m[32m"/solutions"[1B[39m[mtranslationdir = outputdir+[0;1m[32m"/translations"[1B[39m[mresultfile = outputdir+[0;1m[32m"/results_ilp.csv"[39m[m[K[1Btracedir = outputdir+[0;1m[32m"/trace"[39m[m[K[1B[K[1B[0;1m[31m# Timeout in seconds for the ILP solver[1B#timeout = 3600[39m[m[K[1Btimeout = 1800[1B[K[1B[0;1m[31m# Statistics we would like to keep[1B[39m[minstancename = ""[K[1Btime_spent_translating = 0[27Ainstancename = ""[1Btime_spent_translating = 0[1Btime_spent_solving = 0[1Bsolution = -1[1Blower_bound = 0[7;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[1B[39m[m[K[1B[0;1m[36mclass[39m[m TimeoutException(Exception):[1B    [0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[13;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[2B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[1B    instancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1B    instancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[23;5Hinstance = instancef.readlines()[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[1B[K[1Bupper_bound = N[1B[K[1Btrace = collections.OrderedDict()[1B[K[27Atrace = collections.OrderedDict()[1B[K[1B[0;1m[31m# Your time starts... NOW![6;2H[39m[mignal.alarm(timeout)[1B[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[1B[39m[m    [0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[13;5H#trace[guess] = {}[39m[m[K[1B[K[15;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[1B[39m[m    starttime = time.time()[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[19;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[20;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1B[K[1B    [0;1m[36mtry[39m[m:[K[23;5H    gc_string_to_ilp_file(instance, translationfn, N)[24;9Htime_this_translation = time.time() - starttime[25;8H[1K [0;1m[31m#trace[guess]['trans'] = time_this_translation[27;8H[39m[m[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[29;8H[1K starttime = time.time()[K[26A[7C[1K starttime = time.time()[K[5;8H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[6;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[8;8H[1K [0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[9;9H[39m[mtime_this_solving = time.time() - starttime[10;8H[1K time_spent_solving +=  time_this_solving[11;5H    time_spent_translating += time_this_translation[12;5H    [0;1m[31m#trace[guess]['solve'] = time_this_solving[39m[m[K[13;5H    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[14;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[16;5H    [0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[19;5H[36mfinally[39m[m:[K[20;5H    [0;1m[31m# Delete the translation file, since it can become several gigs[21;9H[36mif[39m[m os.path.isfile(translationfn):[22;12H[1K os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[K[25;5H[0;1m[31m# User wants to cancel[39m[m[K[26;5H[0;1m[36mpass[1Bexcept[39m[m TimeoutException:[K[28;5H[0;1m[31m# MEEH, Time's up![29;5H[36mpass[39m[m[K[26Atrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![39m[m[K[1Bsignal.alarm(timeout)[K[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[K[1B[K[1B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[39m[m[K[12;5H[0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[13;5H#trace[guess] = {}[39m[m[K[1B[K[15;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[16;5H[39m[mstarttime = time.time()[K[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[K[19;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[20;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[K[1B[K[22;5H[0;1m[36mtry[39m[m:[K[1Bgc_string_to_ilp_file(instance, translationfn, N)[24;8H[1K time_this_translation = time.time() - starttime[25;5H    [0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m[K[27;8H[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[1B[K[29;5H    starttime = time.time()[26Ainstancename = ""[K[1Btime_spent_translating = 0[1Btime_spent_solving = 0[K[1Bsolution = -1[K[1Blower_bound = 0[7;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[39m[m   [2B[0;1m[36mclass[39m[m TimeoutException(Exception):[11;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[K[13;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[1B[K[1B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[17;5Hinstancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1Binstancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[23;5Hinstance = instancef.readlines()[K[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[K[2Bupper_bound = N[K[2Btrace = collections.OrderedDict()[26Atrace = collections.OrderedDict()[1B[K[1B[0;1m[31m# Your time starts... NOW![6;2H[39m[mignal.alarm(timeout)[1B[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[1B[39m[m    [0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[13;5H#trace[guess] = {}[39m[m[K[1B[K[15;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[1B[39m[m    starttime = time.time()[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[19;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[20;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1B[K[1B    [0;1m[36mtry[39m[m:[K[23;5H    gc_string_to_ilp_file(instance, translationfn, N)[24;9Htime_this_translation = time.time() - starttime[25;8H[1K [0;1m[31m#trace[guess]['trans'] = time_this_translation[27;8H[39m[m[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[29;8H[1K starttime = time.time()[K[26A[7C[1K starttime = time.time()[K[5;8H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[6;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[8;8H[1K [0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[9;9H[39m[mtime_this_solving = time.time() - starttime[10;8H[1K time_spent_solving +=  time_this_solving[11;5H    time_spent_translating += time_this_translation[12;5H    [0;1m[31m#trace[guess]['solve'] = time_this_solving[39m[m[K[13;5H    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[14;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[16;5H    [0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[19;5H[36mfinally[39m[m:[K[20;5H    [0;1m[31m# Delete the translation file, since it can become several gigs[21;9H[36mif[39m[m os.path.isfile(translationfn):[22;12H[1K os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[K[25;5H[0;1m[31m# User wants to cancel[39m[m[K[26;5H[0;1m[36mpass[1Bexcept[39m[m TimeoutException:[K[28;5H[0;1m[31m# MEEH, Time's up![29;5H[36mpass[39m[m[K[26A    [0;1m[36mpass[39m[m[K[2B[0;1m[31m# Done![39m[m[K[1B[0;1m[31m# Cancel timeout[39m[m[K[1Bsignal.alarm(0)[1B[K[1B[0;1m[31m# Report in addition: N[39m[m[K[1B[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[K[13;5H[0;1m[31m# So excel knows what separator to use[39m[m[K[14;5Houtput = [0;1m[32m"sep=,\n"[39m[m[K[15;5Houtput += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[K[19;5H    (instancename,[20;9H N,[K[21;9H M,[K[1Bsolution,[K[23;10Hlower_bound,[24;9H[1K upper_bound,[K[25;9H[1K time_spent_translating,[26;9H[1K time_spent_solving,[27;9H[1K time_spent_total,[28;9H[1K timeout,[K[29;9H[1K "\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[30;9H)[27A[3;9H[1K "\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[4;9H)[1B[K[1B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[7;8H[1K [0;1m[36mprint[39m[m(output, file=resultf)[2B[0;1m[36mif[39m[m solution != -1:[K[10;5H[0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[1B    [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)[K[1B[K[1B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[K[16;5H[0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[27A[14B[3;5H[0;1m[36mpass[39m[m[K[1B[K[1B[0;1m[31m# Done![1B# Cancel timeout[39m[m[K[1Bsignal.alarm(0)[K[2B[0;1m[31m# Report in addition: N[1B[39m[m[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[13;5H[0;1m[31m# So excel knows what separator to use[14;5H[39m[moutput = [0;1m[32m"sep=,\n"[1B[39m[m    output += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[19;9H(instancename,[20;10HN,[1BM,[1Bsolution,[23;10Hlower_bound,[24;10Hupper_bound,[25;10Htime_spent_translating,[26;10Htime_spent_solving,[27;10Htime_spent_total,[28;10Htimeout,[29;10H"\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[30;9H)[27A        starttime = time.time()[5;8H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[6;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[1B[K[8;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[9;8H[39m[m[1K time_this_solving = time.time() - starttime[10;9Htime_spent_solving +=  time_this_solving[11;8H[1K time_spent_translating += time_this_translation[12;8H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[13;5H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[14;5H[39m[m    [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[16;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[19;5H[36mfinally[39m[m:[K[20;9H[0;1m[31m# Delete the translation file, since it can become several gigs[21;9H[36mif[39m[m os.path.isfile(translationfn):[22;10H   os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[25;5H[0;1m[31m# User wants to cancel[39m[m[K[26;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mexcept[39m[m TimeoutException:  [28;5H[0;1m[31m# MEEH, Time's up![29;5H[36mpass[39m[m[K[1B[K[27Atrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![39m[m[K[1Bsignal.alarm(timeout)[K[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[K[1B[K[1B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[39m[m[K[12;5H[0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[13;5H#trace[guess] = {}[39m[m[K[1B[K[15;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[16;5H[39m[mstarttime = time.time()[K[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[K[19;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[20;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[K[1B[K[22;5H[0;1m[36mtry[39m[m:[K[1Bgc_string_to_ilp_file(instance, translationfn, N)[24;8H[1K time_this_translation = time.time() - starttime[25;5H    [0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m[K[27;8H[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[1B[K[29;5H    starttime = time.time()[26Ainstancename = ""[K[1Btime_spent_translating = 0[1Btime_spent_solving = 0[K[1Bsolution = -1[K[1Blower_bound = 0[7;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[39m[m   [2B[0;1m[36mclass[39m[m TimeoutException(Exception):[11;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[K[13;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[1B[K[1B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[17;5Hinstancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1Binstancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[23;5Hinstance = instancef.readlines()[K[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[K[2Bupper_bound = N[K[2Btrace = collections.OrderedDict()[26A[K[1B[0;1m[36mimport[39m[m signal[K[1B[0;1m[36mimport[39m[m sys[K[1B[0;1m[36mimport[39m[m math  [1B[0;1m[36mimport[39m[m os[K[1B[0;1m[36mimport[39m[m subprocess[K[1B[0;1m[36mimport[39m[m time[1B[0;1m[36mimport[39m[m json[K[1B[0;1m[36mimport[39m[m collections[1B[0;1m[36mfrom[39m[m gc_to_ilp_functions [0;1m[36mimport[39m[m *  [1B[K[1Btotaltimestart = time.time()[K[2B[0;1m[31m# Folder to keep results in[1B[39m[moutputdir = [0;1m[32m"benchmark"[39m[m[K[1B[0;1m[31m# Solution folder[1B[39m[msolutiondir = outputdir+[0;1m[32m"/solutions"[1B[39m[mtranslationdir = outputdir+[0;1m[32m"/translations"[1B[39m[mresultfile = outputdir+[0;1m[32m"/results_ilp.csv"[39m[m[K[1Btracedir = outputdir+[0;1m[32m"/trace"[39m[m[K[1B[K[1B[0;1m[31m# Timeout in seconds for the ILP solver[1B#timeout = 3600[39m[m[K[1Btimeout = 1800[1B[K[1B[0;1m[31m# Statistics we would like to keep[1B[39m[minstancename = ""[K[1Btime_spent_translating = 0[27A[2;31r[2;1H[4L[1;33r[3;1H[0;1m[31m#!/usr/bin/env python[1B# -*- coding: utf-8 -*-[2B[36mfrom[39m[m __future__ [0;1m[36mimport[39m[m print_function[3A[28B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 148 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[29B[J[33;125H[33;1H[?1049l[?1l>in4336@ubuntu:~/repo/gc$ git commit
U	gc/benchmark_ilp.py
U	gc/gc_to_ilp_functions.py
error: 'commit' is not possible because you have unmerged files.
hint: Fix them up in the work tree,
hint: and then use 'git add/rm <file>' as
hint: appropriate to mark resolution and make a commit,
hint: or use 'git commit -a'.
fatal: Exiting because of an unresolved conflict.
in4336@ubuntu:~/repo/gc$ git add benchmark_ui[K[Kilp.py gc_to_ilp_functions.py 
in4336@ubuntu:~/repo/gc$ git commit
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                    File: /home/in4336/repo/.git/COMMIT_EDITMSG                                              [3;1H[mMerge branch 'master' of github.com:dhoepelman/in4336[2BConflicts:[1Bgc/benchmark_ilp.py[7;9Hgc/gc_to_ilp_functions.py[1B#[1B# It looks like you may be committing a merge.[1B# If this is not correct, please remove the file[1B#[7C.git/MERGE_HEAD[1B# and try again.[3B# Please enter the commit message for your changes. Lines starting[1B# with '#' will be ignored, and an empty message aborts the commit.[1B# On branch master[1B# Your branch and 'origin/master' have diverged,[1B# and have 3 and 2 different commits each, respectively.[1B#   (use "git pull" to merge the remote branch into yours)[1B#[1B# All conflicts fixed but you are still merging.[1B#[1B# Changes to be committed:[1B#[7Cmodified:   ../RCPSP/test-instances/test1.sm[1B#[7Cmodified:   benchmark_ilp.py[1B#[7Cmodified:   gc_to_ilp_functions.py[1B#[7Cmodified:   gc_to_sat_functions.py[1B#[7Cnew file:   ../ilp/Presentation1.pptx[1B#[7Cnew file:   ../ilp/gc-1-FullIns_3.lp[31;55H[0;7m[ Read 56 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[28B[0;7mFile Name to Write: /home/in4336/repo/.git/COMMIT_EDITMSG                                                                    [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;58H[5D[39;49m[m[1K [0;7m[ Wrote 56 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[29B[J[33;125H[33;1H[?1049l[?1l>[master ecae257] Merge branch 'master' of github.com:dhoepelman/in4336
in4336@ubuntu:~/repo/gc$ nano benchmark
benchmark/        benchmark_ilp.py  benchmark.py      
in4336@ubuntu:~/repo/gc$ nano benchmark_ilp.py 
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                           File: benchmark_ilp.py                                                            [3;1H[0;1m[31m#!/usr/bin/env python[1B# -*- coding: utf-8 -*-[2B[36mfrom[39m[m __future__ [0;1m[36mimport[39m[m print_function[2B[0;1m[36mimport[39m[m signal[1B[0;1m[36mimport[39m[m sys[1B[0;1m[36mimport[39m[m math[1B[0;1m[36mimport[39m[m os[1B[0;1m[36mimport[39m[m subprocess[1B[0;1m[36mimport[39m[m time[1B[0;1m[36mimport[39m[m json[1B[0;1m[36mimport[39m[m collections[1B[0;1m[36mfrom[39m[m gc_to_ilp_functions [0;1m[36mimport[39m[m *[2Btotaltimestart = time.time()[2B[0;1m[31m# Folder to keep results in[1B[39m[moutputdir = [0;1m[32m"benchmark"[1B[31m# Solution folder[1B[39m[msolutiondir = outputdir+[0;1m[32m"/solutions"[1B[39m[mtranslationdir = outputdir+[0;1m[32m"/translations"[1B[39m[mresultfile = outputdir+[0;1m[32m"/results_ilp.csv"[1B[39m[mtracedir = outputdir+[0;1m[32m"/trace"[2B[31m# Timeout in seconds for the ILP solver[1B#timeout = 3600[1B[39m[mtimeout = 1800[31;54H[0;7m[ Read 148 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[C[0;1m[31mtimeout = 3600[39m[m[K[1Btimeout = 1800[K[2B[0;1m[31m# Statistics we would like to keep[39m[m   [1Binstancename = ""[1Btime_spent_translating = 0[1Btime_spent_solving = 0[1Bsolution = -1[1Blower_bound = 0[11;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[1B[39m[m[K[1B[0;1m[36mclass[39m[m TimeoutException(Exception):[1B    [0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[17;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[2B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[1B    instancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1B    instancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[27;5Hinstance = instancef.readlines()[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[1B[K[27A(N,M,_) = read_DIGRAPH(instance)[1B[K[1Bupper_bound = N[1B[K[1Btrace = collections.OrderedDict()[1B[K[1B[0;1m[31m# Your time starts... NOW![10;2H[39m[mignal.alarm(timeout)[1B[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[1B[39m[m    [0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[17;5H#trace[guess] = {}[39m[m[K[1B[K[19;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[1B[39m[m    starttime = time.time()[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[23;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[24;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1B[K[1B    [0;1m[36mtry[39m[m:[K[27;5H    gc_string_to_ilp_file(instance, translationfn, N)[28;9Htime_this_translation = time.time() - starttime[29;8H[1K [0;1m[31m#trace[guess]['trans'] = time_this_translation[26A[39m[m[7C[1K [0;1m[31m#trace[guess]['trans'] = time_this_translation[5;8H[39m[m[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[7;8H[1K starttime = time.time()[K[9;8H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[10;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[12;8H[1K [0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[13;9H[39m[mtime_this_solving = time.time() - starttime[14;8H[1K time_spent_solving +=  time_this_solving[15;5H    time_spent_translating += time_this_translation[16;5H    [0;1m[31m#trace[guess]['solve'] = time_this_solving[39m[m[K[17;5H    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[18;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[20;5H    [0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[23;5H[36mfinally[39m[m:[K[24;5H    [0;1m[31m# Delete the translation file, since it can become several gigs[25;9H[36mif[39m[m os.path.isfile(translationfn):[26;12H[1K os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[K[29;5H[0;1m[31m# User wants to cancel[39m[m[K[30;5H[0;1m[36mpass[27A[39m[m    [0;1m[31m# User wants to cancel[39m[m[K[4;5H[0;1m[36mpass[1Bexcept[39m[m TimeoutException:[K[6;5H[0;1m[31m# MEEH, Time's up![7;5H[36mpass[39m[m[K[2B[0;1m[31m# Done![39m[m[K[1B[0;1m[31m# Cancel timeout[39m[m[K[1Bsignal.alarm(0)[1B[K[1B[0;1m[31m# Report in addition: N[39m[m[K[1B[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[K[17;5H[0;1m[31m# So excel knows what separator to use[39m[m[K[18;5Houtput = [0;1m[32m"sep=,\n"[39m[m[K[19;5Houtput += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[K[23;5H    (instancename,[24;9H N,[K[25;9H M,[K[1Bsolution,[K[27;10Hlower_bound,[28;9H[1K upper_bound,[K[29;9H[1K time_spent_translating,[30;9H[1K time_spent_solving,[27A        [0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m[K[5;8H[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[1B[K[7;5H    starttime = time.time()[9;8H[1K [0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[10;12H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[1B[K[12;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[13;8H[39m[m[1K time_this_solving = time.time() - starttime[14;9Htime_spent_solving +=  time_this_solving[15;8H[1K time_spent_translating += time_this_translation[16;8H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[17;5H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[18;5H[39m[m    [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[20;9H[0;1m[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[23;5H[36mfinally[39m[m:[K[24;9H[0;1m[31m# Delete the translation file, since it can become several gigs[25;9H[36mif[39m[m os.path.isfile(translationfn):[26;10H   os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[29;5H[0;1m[31m# User wants to cancel[39m[m[K[30;5H[0;1m[36mpass[39m[m[K[27A(N,M,_) = read_DIGRAPH(instance)[K[2Bupper_bound = N[K[2Btrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![39m[m[K[1Bsignal.alarm(timeout)[K[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[K[1B[K[1B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[39m[m[K[16;5H[0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[17;5H#trace[guess] = {}[39m[m[K[1B[K[19;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[20;5H[39m[mstarttime = time.time()[K[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[K[23;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[24;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[K[1B[K[26;5H[0;1m[36mtry[39m[m:[K[1Bgc_string_to_ilp_file(instance, translationfn, N)[28;8H[1K time_this_translation = time.time() - starttime[29;5H    [0;1m[31m#trace[guess]['trans'] = time_this_translation[1B[39m[m[K[27A[0;1m[31m#timeout = 3600[39m[m[K[1Btimeout = 1800[1B[K[1B[0;1m[31m# Statistics we would like to keep[1B[39m[minstancename = ""[K[1Btime_spent_translating = 0[1Btime_spent_solving = 0[K[1Bsolution = -1[K[1Blower_bound = 0[11;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[39m[m   [2B[0;1m[36mclass[39m[m TimeoutException(Exception):[15;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[K[17;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[1B[K[1B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[21;5Hinstancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1Binstancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[27;5Hinstance = instancef.readlines()[K[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[K[26A[C[0;1m[31m!/usr/bin/env python[1B# -*- coding: utf-8 -*-[2B[36mfrom[39m[m __future__ [0;1m[36mimport[39m[m print_function[1B[K[1B[0;1m[36mimport[39m[m signal[K[1B[0;1m[36mimport[39m[m sys[K[1B[0;1m[36mimport[39m[m math  [1B[0;1m[36mimport[39m[m os[K[1B[0;1m[36mimport[39m[m subprocess[K[1B[0;1m[36mimport[39m[m time[1B[0;1m[36mimport[39m[m json[K[1B[0;1m[36mimport[39m[m collections[1B[0;1m[36mfrom[39m[m gc_to_ilp_functions [0;1m[36mimport[39m[m *  [1B[K[1Btotaltimestart = time.time()[K[2B[0;1m[31m# Folder to keep results in[1B[39m[moutputdir = [0;1m[32m"benchmark"[39m[m[K[1B[0;1m[31m# Solution folder[1B[39m[msolutiondir = outputdir+[0;1m[32m"/solutions"[1B[39m[mtranslationdir = outputdir+[0;1m[32m"/translations"[1B[39m[mresultfile = outputdir+[0;1m[32m"/results_ilp.csv"[39m[m[K[1Btracedir = outputdir+[0;1m[32m"/trace"[39m[m[K[1B[K[1B[0;1m[31m# Timeout in seconds for the ILP solver[1B#timeout = 3600[39m[m[K[1Btimeout = 1800[27A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[13B[K[12A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[2;31r[2;1H[15M[1;33r[17;1H[0;1m[31m# Statistics we would like to keep[1B[39m[minstancename = ""[1Btime_spent_translating = 0[1Btime_spent_solving = 0[1Bsolution = -1[1Blower_bound = 0[22;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[2B[36mclass[39m[m TimeoutException(Exception):[26;5H[0;1m[36mpass[1Bdef[34m timeout_handler[39m[m(signum, frame):[28;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[13A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;1H[0;1m[36mif[39m[m(len(sys.argv) < 2):[17;5Hinstancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[1Binstancefn = sys.argv[1][2Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[23;5Hinstance = instancef.readlines()[2B(N,M,_) = read_DIGRAPH(instance)[2Bupper_bound = N[2Btrace = collections.OrderedDict()[13A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;1H[0;1m[31m# Your time starts... NOW![1B[39m[msignal.alarm(timeout)[2B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[1B[0;1m[31m# Binary search for the solution[23;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[24;5H#trace[guess] = {}[26;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[27;5H[39m[mstarttime = time.time()[29;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[30;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[14A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[2;31r[2;1H[15M[1;33r[2;1H[K[16;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[18;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[20;9Htime_this_translation = time.time() - starttime[21;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[23;9H[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[25;9Hstarttime = time.time()[27;9H[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.lp"[39m[m % (solutiondir, id), [0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m solutionf:[28;13Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True, stdout=solutionf)[30;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[16;1H[39m[mMMMMM[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[2;31r[2;1H[15M[1;33r[16;9Htime_this_solving = time.time() - starttime[17;9Htime_spent_solving +=  time_this_solving[18;9Htime_spent_translating += time_this_translation[19;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[20;9H#trace[guess]['this'] = time_this_translation+time_this_solving[21;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[23;9H[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[26;5H[36mfinally[39m[m:[27;9H[0;1m[31m# Delete the translation file, since it can become several gigs[28;9H[36mif[39m[m os.path.isfile(translationfn):[29;13Hos.remove(translationfn)[13A[1B[1BMMMMMMMMMMMMMMM[2;30r[2;1H[15L[1;33r[4;1H[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[1B[0;1m[31m# Binary search for the solution[8;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[9;5H#trace[guess] = {}[11;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[12;5H[39m[mstarttime = time.time()[14;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[15;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[16;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1BMMM[1BM[1B[1BM[1BM[1BM[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BM        [C[C[C[C[C[C open([C[C[C[C[C[C[C[C[C[C % (solutiondir, [27;31r[31;1H
[1;33r[1;116H[0;7mModified[30;9H[mtime_this_solving = time.time() - starttime[3A        [1P[27;9H[1P[27;9H[1P[27;9H[1P[27;9H[112C)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K)[K[4B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 147 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[6A[1B[1B[1B[2;30r[2;1H[15M[1;33r[16;9Htime_spent_solving +=  time_this_solving[17;9Htime_spent_translating += time_this_translation[18;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[19;9H#trace[guess]['this'] = time_this_translation+time_this_solving[20;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[22;9H[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[25;5H[36mfinally[39m[m:[26;9H[0;1m[31m# Delete the translation file, since it can become several gigs[27;9H[36mif[39m[m os.path.isfile(translationfn):[28;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[14A[1B[1B[1B[1B[1B[1B[1B[C[C[C[C[C[CM  [C[C[C[C[C[9B[K[22;15H[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C % sM[20;39HMMMMMMM[12;39HM[10;32HM[8;39HM[6;39HMM[3;9H[2;30r[2;1H[15L[1;33r[4;1H[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[1B[0;1m[31m# Binary search for the solution[8;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[9;5H#trace[guess] = {}[11;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[12;5H[39m[mstarttime = time.time()[14;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[15;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[16;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1B[16;39HM[14;32HM[12;28H[11;39HM[9;23H[8;39HMM[32DM[4;39HM[2;30r[2;1H[15L[1;33r[3;1H[0;1m[36melse[39m[m:[1Binstancefn = sys.argv[1][2Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[8;5Hinstance = instancef.readlines()[2B(N,M,_) = read_DIGRAPH(instance)[2Bupper_bound = N[2Btrace = collections.OrderedDict()[2B[0;1m[31m# Your time starts... NOW![1B[39m[msignal.alarm(timeout)M[5CM[14;34HM[12;16H[1B[14;34H[1B[16;27H[17;22H[1B[19;39H[1B[21;5H[22;37H[23;39H[24;23H[1B[26;39H[27;28H[1B[29;32H[30;39H[2;31r[2;1H[15M[1;33r[2;1H[K[16;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[18;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[20;9Htime_this_translation = time.time() - starttime[21;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[23;9H[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[25;9Hstarttime = time.time()[27;9Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[29;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[30;9H[39m[mtime_this_solving = time.time() - starttime[16;39H[1B[18;9H[19;39H[1B[1B[1B[23;39H[1B[25;32H[1B[27;39H[1B[29;39H[1B[2;31r[2;1H[15M[1;33r[16;9Htime_spent_solving +=  time_this_solving[17;9Htime_spent_translating += time_this_translation[18;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[19;9H#trace[guess]['this'] = time_this_translation+time_this_solving[20;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[22;9H[36mprint[39m[m([0;1m[32m"Found solution: %d"[39m[m % solution)[1B[0;1m[31m#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[25;5H[36mfinally[39m[m:[26;9H[0;1m[31m# Delete the translation file, since it can become several gigs[27;9H[36mif[39m[m os.path.isfile(translationfn):[28;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[16;39H[1B[1B[1B[1B[1B[22;39H[23;19H[24;39H[23;19H[22;39HM[2BM        [C[C[C[C[C([C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C % s  [1;116H[0;7mModified[21B[0;1m[31m#        print("Found solution: %d" % solution)#[39m[m[9B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 147 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[22;2HMM MMMMMMMM MM MM MM MMM [2;30r[2;1H[15L[1;33r[4;1H[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[1B[0;1m[31m# Binary search for the solution[8;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[9;5H#trace[guess] = {}[11;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[12;5H[39m[mstarttime = time.time()[14;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[15;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[16;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1BM  M[1B[1B[14B[K[13A  [1B[1BM      gc_string_to_ilp_file(instance, translationfn, ,e[1B[1B[1B[23;35H[1B[25;32H[1B[27;34H[1B[29;34H[1B[2;31r[2;1H[15M[1;33r[16;9Htime_spent_solving +=  time_this_solving[17;9Htime_spent_translating += time_this_translation[18;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[19;9H#trace[guess]['this'] = time_this_translation+time_this_solving[20;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[2B#        print("Found solution: %d" % solution)[1B#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[25;5H[36mfinally[39m[m:[26;9H[0;1m[31m# Delete the translation file, since it can become several gigs[27;9H[36mif[39m[m os.path.isfile(translationfn):[28;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[16;34H[1B[1B[1B[1B[1B[22;34H[23;19H[24;34H[25;13H[26;34H[1B[1B[1B[28;34HMM[1B[1B[1B[30;26H[2;31r[2;1H[15M[1;33r[2;1H[K[16;5H[0;1m[31m# User wants to cancel[17;5H[36mpass[1Bexcept[39m[m TimeoutException:[19;5H[0;1m[31m# MEEH, Time's up![20;5H[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[30;5H[0;1m[31m# So excel knows what separator to use[16;27H[39m[m[17;9H[18;25H[1B[20;9H[1B[22;8H[23;17H[1B[1B[26;24H[1B[28;12H[29;34H[1B[3;31r[3;1H[15M[1;33r[16;5Houtput = [0;1m[32m"sep=,\n"[17;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[2B[39m[mtime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[21;9H(instancename,[22;10HN,[1BM,[1Bsolution,[25;10Hlower_bound,[26;10Hupper_bound,[27;10Htime_spent_translating,[28;10Htime_spent_solving,[29;10Htime_spent_total,[30;10Htimeout,[16;23H[17;34H[1B[19;34H[1B[21;23H[22;12H[1B[24;19H[25;22H[1B[27;33H[28;29H[1B[30;18H[3;31r[3;1H[15M[1;33r[16;10H"\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[17;9H)[2B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[20;9H[0;1m[36mprint[39m[m(output, file=resultf)[2B[0;1m[36mif[39m[m solution != -1:[23;5H[0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[24;5H[0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[1B[0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)[2B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[29;5H[0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[16;34H[17;10H[1B[17;10H[16;34H[15;18H[14;27HMg,Ming,[11;22HMM[8;12HM[6;23H[5;34HMM[2;30r[2;1H[15L[1;33r[3;1H[0;1m[36mexcept[39m[m TimeoutException:[4;5H[0;1m[31m# MEEH, Time's up![5;5H[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[15;5H[0;1m[31m# So excel knows what separator to use[16;5H[39m[moutput = [0;1m[32m"sep=,\n"[17;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[17;34H[39m[m[16;23H[15;34HM[13;12HM[11;24H[1B[13;12H[14;34H[1B[16;23H[17;34H[1B[19;34HM[17;34H[16;23H[15;34H[16;23H[17;34H[1B[19;34H[1B[21;23H[22;12H[21;23H[20;34HMM[17;34H[C[1B[19;35H[1B[21;23H[22;12H[1B[24;19H[25;22H[1B[27;33H[26;22HM[1B[27;33H[28;29HMing,[26;22HMM[21A[K[4;5H    [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[1B[K[6;9Hstarttime = time.time()[1B[K[8;8H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[1B[K[10;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[11;8H[39m[m[1K time_this_solving = time.time() - starttime[12;9Htime_spent_solving +=  time_this_solving[13;8H[1K time_spent_translating += time_this_translation[14;8H[1K [0;1m[31m#trace[guess]['solve'] = time_this_solving[15;5H[39m[m    [0;1m[31m#trace[guess]['this'] = time_this_translation+time_this_solving[16;5H[39m[m    [0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[1B[39m[m[K[1B[0;1m[31m#        print("Found solution: %d" % solution)[1B#            else:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[21;5H[36mfinally[39m[m:[K[22;9H[0;1m[31m# Delete the translation file, since it can become several gigs[23;9H[36mif[39m[m os.path.isfile(translationfn):[24;10H   os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[27;5H[0;1m[31m# User wants to cancel[39m[m[K[28;5H[0;1m[36mpass[39m[m[K[1B[0;1m[36mexcept[39m[m TimeoutException:  [30;5H[0;1m[31m# MEEH, Time's up![27A[39m[m[0;1m[36mexcept[39m[m TimeoutException:[4;5H[0;1m[31m# MEEH, Time's up![39m[m[K[5;5H[0;1m[36mpass[1B[39m[m[K[1B[0;1m[31m# Done![1B# Cancel timeout[39m[m[K[1Bsignal.alarm(0)[1B[K[1B[0;1m[31m# Report in addition: N[39m[m[K[1B[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[K[15;5H[0;1m[31m# So excel knows what separator to use[39m[m[K[16;5Houtput = [0;1m[32m"sep=,\n"[39m[m[K[17;5Houtput += [0;1m[32m"Instance,N,M,Solution,LB,UB,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%d,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[K[21;5H    (instancename,[22;9H N,[K[23;9H M,[K[1Bsolution,[K[25;10Hlower_bound,[26;9H[1K upper_bound,[K[27;9H[1K time_spent_translating,[28;9H[1K time_spent_solving,[29;9H[1K time_spent_total,[30;9H[1K timeout,[K[27A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BM[25;31r[31;1H
[1;33r[1;116H[0;7mModified[30;10H[m"\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[5A[25;31r[31;1H
[1;33r[30;9H)[5AMMMMMMM[1BM[1BMM    output += [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P[1P[1P[C[1P[1P[1P[C[1B[19;38H[1B[21;23H[22;12H[1BM[21;23H[20;38HMM[19;38H[1B[1P[1P[1P[C[1P[1P[1P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[21;23H[22;12H[1B[24;19H[24;31r[31;1H
[1;33r[24;1HMMM Mutput += [C[C[C[C[C[C[C[C[C[C[C[1P[1P[1P[C[11B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 144 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[20;21H[1B[22;12H[1B[24;21H[1B[1B[27;18H[28;21H[29;10H[1B[27A[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%.2f,%.2f,%.2f,%d,%s"[39m[m %\[6;9H(instancename,[7;9H[1K N,[8;9H[1K M,[K[9;9H[1K time_spent_translating,[10;10Htime_spent_solving,[11;9H[1K time_spent_total,[12;10Htimeout,[13;9H[1K "\[0;1m[32m"%s\""[39m[m % [0;1m[32m","[39m[m.join([str(x) [0;1m[36mfor[39m[m x [0;1m[36min[39m[m trace.keys()])[14;8H[1K )[K[1B[K[1B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[17;5H    [0;1m[36mprint[39m[m(output, file=resultf)[K[2B[0;1m[36mif[39m[m solution != -1:[K[1B    [0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[K[21;5H[0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)[1B[K[1B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[26;5H[0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[1B[K[1B[K[1B[K[16;21H[1B[1B[17;21HMM[14;10H[13;21H[13;30r[30;1H
[1;33r[1;116H[0;7mModified[12B[m[12;18H MMMM[5D[23B[K[7;12HM[5CMMM[2;30r[2;1H[15L[1;33r[3;1H[0;1m[36mexcept[39m[m TimeoutException:[4;5H[0;1m[31m# MEEH, Time's up![5;5H[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[15;5H[0;1m[31m# So excel knows what separator to use[16;5H[39m[moutput = [0;1m[32m"sep=,\n"[17;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[17;17H[39m[m[C[1B[19;18H= time.time() - tot[1B[C[C[1P[1P[1P[11B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 143 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[20;38H[21;23H[22;12H[1B[24;33H[25;29H[1B[27;17H[28;10H[1B[30;38H[2;30r[2;1H[15M[1;33r[2;1H[K[16;9H[0;1m[36mprint[39m[m(output, file=resultf)[2B[0;1m[36mif[39m[m solution != -1:[19;5H[0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[20;5H[0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[1B[0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)[2B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[25;5H[0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[16;36H[1B[18;19H[1BM[1BM[13B[K[18;10H[18;31r[31;1H
[1;33r[1;116H[0;7mModified[17B[m[1P[1P[1P[1P[1B[1P[1P[1P[1PMMMMMMMMMMMMMMMM[2;30r[2;1H[15L[1;33r[3;1H[0;1m[36mexcept[39m[m TimeoutException:[4;5H[0;1m[31m# MEEH, Time's up![5;5H[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[15;5H[0;1m[31m# So excel knows what separator to use[16;5H[39m[moutput = [0;1m[32m"sep=,\n"[17;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[39m[mMMMMMMMMMMMMMM[2;30r[2;1H[15L[1;33r[3;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[4;9H#trace[guess]['this'] = time_this_translation+time_this_solving[5;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[2B#        print("Found solution: %d" % solution)[1B#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[10;5H[36mfinally[39m[m:[11;9H[0;1m[31m# Delete the translation file, since it can become several gigs[12;9H[36mif[39m[m os.path.isfile(translationfn):[13;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[16;5H[0;1m[31m# User wants to cancel[17;5H[36mpass[39m[mM[1B[1B[1B[1B[19;23H7[20;30r8[1BM[1;33r[20;1H[20;9H    timeout = True[21;9H[1B[23;8H[24;17H[1B[1B[27;19H[1B[29;12H[30;19H[3;31r[3;1H[15M[1;33r[16;5H[0;1m[31m# So excel knows what separator to use[17;5H[39m[moutput = [0;1m[32m"sep=,\n"[18;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[2B[39m[mtime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%.2f,%.2f,%.2f,%d"[39m[m %\[22;9H(instancename,[23;10HN,[1BM,[1Btime_spent_translating,[26;10Htime_spent_solving,[27;10Htime_spent_total,[28;10Htimeout[29;9H)[16;19H[1B[1B[1B[20;19H[1B[1B[23;12H[1B[25;19H[1B[1B[1B[29;10H[28;17HMenMM[24;12HM[22;19HMMM[18;19HMMM[14;12HM[12;19HM[10;16HM[CM[9DM[6;9H[5;19HMM[2;30r[2;1H[15L[1;33r[3;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[4;9H#trace[guess]['this'] = time_this_translation+time_this_solving[5;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[2B#        print("Found solution: %d" % solution)[1B#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[10;5H[36mfinally[39m[m:[11;9H[0;1m[31m# Delete the translation file, since it can become several gigs[12;9H[36mif[39m[m os.path.isfile(translationfn):[13;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[16;5H[0;1m[31m# User wants to cancel[17;5H[36mpass[39m[m[16;19HMM[13;19HMMM[6DM[6CMMM[5;19H[1B[7;19H[1B[1B[10;13H[11;19HM[6DM[6CMMM[5;19HMM[2;30r[2;1H[15L[1;33r[3;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[5;9Htime_this_translation = time.time() - starttime[6;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[8;9H[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[10;9Hstarttime = time.time()[12;9Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[14;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[15;9H[39m[mtime_this_solving = time.time() - starttime[16;9Htime_spent_solving +=  time_this_solving[17;9Htime_spent_translating += time_this_translation[17;19HMMMM[12;19HM[12;19H[1B[14;19H[1B[1B[1B[1B[1B[1B[1B[22;19H[1B[1B[24;96H7[25;30r8[1BM[1;33r[25;1H[25;9Htimeout = Falxse   se[26;13H[27;24H[1B[1B[1B[3;31r[3;1H[15M[1;33r[16;1H[0;1m[36mexcept[39m[m KeyboardInterrupt:[17;5H[0;1m[31m# User wants to cancel[18;5H[36mpass[1Bexcept[39m[m TimeoutException:[20;5H[0;1m[31m# MEEH, Time's up![21;5H[39m[mtimeout = True[22;5H[0;1m[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[16;24H[1B[18;9H[19;24H[1B[21;19H[22;9H[1B[24;8H[25;17H[1B[1B[28;24H[1B[30;12H[3;31r[3;1H[15M[1;33r[16;1H[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[17;5H[0;1m[31m# So excel knows what separator to use[18;5H[39m[moutput = [0;1m[32m"sep=,\n"[19;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[2B[39m[mtime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%.2f,%.2f,%.2f,%d"[39m[m %\[23;9H(instancename,[24;10HN,[1BM,[1Btime_spent_translating,[27;10Htime_spent_solving,[28;10Htime_spent_total,[29;10Htimeout[30;9H)[16;24H[1B[1B[19;24H[1B[21;24H[1B[1B[24;12H[23;23HM[C[1B[24;12H[3;9H[1K time_spent_total,[4;9H[1K timeout[K[5;5H    )[K[1B[K[1B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[8;9H[0;1m[36mprint[39m[m(output, file=resultf)[1B[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)  [1B[0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[1B    [0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)   [2B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[1B    [0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[1B[K[1B[K[1B[K[2B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[13AMMMMMMM[9;31r[9;1HM[1;33r[11;1HMi[0;1m[36mif[39m[m timeout = = False:[11;15H [0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)   [0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)     [0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)       [0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[14D[1B [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))   [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))     [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))       [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[119D[19B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 145 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[12;5HM[1BMMMMM[4CMM    MM[2;30r[2;1H[15L[1;33r[3;1H[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[7;5H[0;1m[31m# So excel knows what separator to use[8;5H[39m[moutput = [0;1m[32m"sep=,\n"[9;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[2B[39m[mtime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%.2f,%.2f,%.2f,%d"[39m[m %\[13;9H(instancename,[14;10HN,[1BM,[1Btime_spent_translating,[17;10Htime_spent_solving,[24DMMMMMMMM    MMMMM[27B[K[3;5H[2;30r[2;1H[15L[1;33r[3;9H[0;1m[36mif[39m[m os.path.isfile(translationfn):[4;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[7;5H[0;1m[31m# User wants to cancel[8;5H[36mpass[1Bexcept[39m[m TimeoutException:[10;5H[0;1m[31m# MEEH, Time's up![11;5H[39m[mtimeout = True[12;5H[0;1m[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[1BMsignMMMM    MMMMMMMM    M[2;30r[2;1H[15L[1;33r[4;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[5;9H[39m[mtime_this_solving = time.time() - starttime[6;9Htime_spent_solving +=  time_this_solving[7;9Htime_spent_translating += time_this_translation[8;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[9;9H#trace[guess]['this'] = time_this_translation+time_this_solving[10;9H#trace[guess]['total'] = time_spent_solving+time_spent_translating[2B#        print("Found solution: %d" % solution)[1B#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[15;9H[39m[mtimeout = False[16;5H[0;1m[36mfinally[39m[m:[17;9H[0;1m[31m# Delete the translation file, since it can become several gigs[67D[39m[mMMM[4CMMMM    MMMMMMM[2;31r[2;1H[15L[1;33r[4;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[5;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[6;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[8;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[10;9Htime_this_translation = time.time() - starttime[11;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[13;9H[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[15;9Hstarttime = time.time()[17;9Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[14B[K[17;5HMM    MM    [1B[15;5H[1B[17;5H[1B[19;5H[1B[1B[1B[1B    [C[C[C[C[C[C[20A[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[4;5H[39m[m    timeout = False[K[5;5H[0;1m[36mfinally[39m[m:[K[6;5H    [0;1m[31m# Delete the translation file, since it can become several gigs[7;9H[36mif[39m[m os.path.isfile(translationfn):[8;12H[1K os.remove(translationfn)[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[K[11;5H[0;1m[31m# User wants to cancel[39m[m[K[12;5H[0;1m[36mpass[1Bexcept[39m[m TimeoutException:[K[14;5H[0;1m[31m# MEEH, Time's up![15;5H[39m[mtimeout = True[K[16;5H[0;1m[36mpass[1B[39m[m[K[1B[0;1m[31m# Done![1B# Cancel timeout[39m[m[K[1Bsignal.alarm(0)[K[1B[K[1B[0;1m[31m# Report in addition: N[39m[m[K[1B[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[K[26;5H[0;1m[31m# So excel knows what separator to use[1B[39m[m    output = [0;1m[32m"sep=,\n"[39m[m[K[1B    output += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[27A[1BM[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%.2f,%.2f,%.2f,%d"[39m[m %\[6;9H(instancename,[K[7;9H N,[K[1BM,[K[1Btime_spent_translating,[10;9H[1K time_spent_solving,[11;9H[1K time_spent_total,[12;9H[1K timeout[13;8H[1K )[K[1B[K[1B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[16;5H    [0;1m[36mprint[39m[m(output, file=resultf)[2B[0;1m[36mif[39m[m timeout == False:[1B    [0;1m[36mprint[39m[m([0;1m[32m"Done!"[39m[m)[1B    [0;1m[36mprint[39m[m([0;1m[32m"Took %.2fs to solve instance %s with N=%d,M=%d. Solution=%d"[39m[m % (time_spent_total, instancename, N, M, solution))[1B[0;1m[36melse[39m[m:[1B    [0;1m[36mprint[39m[m([0;1m[32m"Timeout"[39m[m)   [2B[0;1m[36mwith[39m[m open([0;1m[32m"%s/%s.json"[39m[m % (tracedir, instancename),[0;1m[32m'wb'[39m[m) [0;1m[36mas[39m[m tracef:[1B    [0;1m[36mprint[39m[m(json.dumps(trace, indent=4), file=tracef)[1B[K[1B[K[1B[K[2B[K[27A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1BMMM[1B[24;31r[31;1H
[1;33r[1;116H[0;7mModified[23B[m[KM[22;21H[9B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 142 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[22;21HM[15D[20;21HMMe:M[16;21HMM[13;10H[12;17HMent_M[1BMM[8;12HM[6;21HMMM[2;30r[2;1H[15L[1;33r[3;5H[0;1m[31m# MEEH, Time's up![4;5H[39m[mtimeout = True[5;5H[0;1m[36mpass[2B[31m# Done![1B# Cancel timeout[1B[39m[msignal.alarm(0)[2B[0;1m[31m# Report in addition: N[2B[39m[moutput = ""[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[15;5H[0;1m[31m# So excel knows what separator to use[16;5H[39m[moutput = [0;1m[32m"sep=,\n"[17;5H[39m[moutput += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[17;21H[39m[mMMM[17B[K[13;12HM[11;21HM[9;16HM[CM[9DM[5;9H[4;19HM[2C[2;30r[2;1H[15L[1;33r[3;9H[0;1m[31m#trace[guess]['total'] = time_spent_solving+time_spent_translating[2B#        print("Found solution: %d" % solution)[1B#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[8;9H[39m[mtimeout = False[9;5H[0;1m[36mfinally[39m[m:[10;9H[0;1m[31m# Delete the translation file, since it can become several gigs[11;9H[36mif[39m[m os.path.isfile(translationfn):[12;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[15;5H[0;1m[31m# User wants to cancel[16;5H[36mpass[1Bexcept[39m[m TimeoutException:[16;9H[15;21HMM[12;21HMM[9;13H[8;21HMMM[2CM[3;21H[2;31r[2;1H[15L[1;33r[3;9Htime_this_translation = time.time() - starttime[4;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[6;9H[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[8;9Hstarttime = time.time()[10;9Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[12;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[13;9H[39m[mtime_this_solving = time.time() - starttime[14;9Htime_spent_solving +=  time_this_solving[15;9Htime_spent_translating += time_this_translation[16;9H[0;1m[31m#trace[guess]['solve'] = time_this_solving[17;9H#trace[guess]['this'] = time_this_translation+time_this_solving[14B[39m[m[K[17;21HMM[1B[16;31r[31;1H
[1;33r[1;116H[0;7mModified[30;5H[0;1m[36mpass[14A[39m[m[16;31r[31;1H
[1;33r[30;1H[0;1m[36mexcept[39m[m TimeoutException:[14A[16;31r[31;1H
[1;33r[30;5H[0;1m[31m# MEEH, Time's up![14A[39m[mMMMMMMMMMMMMM[2;31r[2;1H[15L[1;33r[4;1H[0;1m[36mtry[39m[m:[1B[0;1m[31m# Binary search for the solution[6;5H#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[7;5H#trace[guess] = {}[9;5H#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[10;5H[39m[mstarttime = time.time()[12;5Hid = [0;1m[32m"gc-%s"[39m[m % instancename[13;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[14;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[16;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)MMM[17B[0;7mFile Name to Write: benchmark_ilp.py                                                                                         [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;37H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 139 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[19A[18B[J[33;125H[33;1H[?1049l[?1l>in4336@ubuntu:~/repo/gc$ git commit[K[K[K[K[K[Kad [Kd benchmark_ilp.py 
in4336@ubuntu:~/repo/gc$ git commit
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                    File: /home/in4336/repo/.git/COMMIT_EDITMSG                                              [4;1H[m# Please enter the commit message for your changes. Lines starting[1B# with '#' will be ignored, and an empty message aborts the commit.[1B# On branch master[1B# Your branch is up-to-date with 'origin/master'.[1B#[1B# Changes to be committed:[1B#[7Cmodified:   benchmark_ilp.py[1B#[1B# Changes not staged for commit:[1B#[7Cmodified:   standard_benchmark/Makefile[1B#[7Cmodified:   standard_benchmark/dfmax[1B#[7Cmodified:   ../ilp/gc2.lp[1B#[7Cmodified:   ../ilp/main.c[1B#[1B# Untracked files:[1B#[7Cbenchmark/results_ilp.csv[1B#[7Cbenchmark/solutions/gc-1-Fulllns_3.lp[1B#[7Cbenchmark/solutions/screenlog.0[1B#[7Cgc-1-Insertions_4.lp[1B#[7Cgurobi[1B#[7Csat-instances/[1B#[7Cto-benchmark/[1B#[7C../ilp/a.out[1B#[31;55H[0;7m[ Read 25 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[1;116H[0;7mModified[2B[mAanpassingen benchmark[28B[0;7mFile Name to Write: /home/in4336/repo/.git/COMMIT_EDITMSG                                                                    [32;21H[m           [0;7mM-D[m DOS Format       [32;61H  [0;7mM-A[m Append[32;81H             [0;7mM-B[m Backup File  [33;2H[0;7mC[m Cancel[33;21H           [0;7mM-M[m Mac Format      [33;61H  [0;7mM-P[m Prepend[K[31;58H[1;116H[39;49m[0;7m        [31;53H[m[1K [0;7m[ Wrote 25 lines ][m[K[32;21H[0;7m^O[m WriteOut         [0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text         [0;7m^C[m Cur Pos[33;2H[0;7mX[m Exit  [33;21H[0;7m^J[m Justify          [0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page [7C[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[3;23H[29B[J[33;125H[33;1H[?1049l[?1l>[master e9e0d0c] Aanpassingen benchmark
 1 file changed, 8 insertions(+), 17 deletions(-)
in4336@ubuntu:~/repo/gc$ git commitadd benchmark_ilp.py [3Pnano[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                           File: benchmark_ilp.py                                                            [3;1H[0;1m[31m#!/usr/bin/env python[1B# -*- coding: utf-8 -*-[2B[36mfrom[39m[m __future__ [0;1m[36mimport[39m[m print_function[2B[0;1m[36mimport[39m[m signal[1B[0;1m[36mimport[39m[m sys[1B[0;1m[36mimport[39m[m math[1B[0;1m[36mimport[39m[m os[1B[0;1m[36mimport[39m[m subprocess[1B[0;1m[36mimport[39m[m time[1B[0;1m[36mimport[39m[m json[1B[0;1m[36mimport[39m[m collections[1B[0;1m[36mfrom[39m[m gc_to_ilp_functions [0;1m[36mimport[39m[m *[2Btotaltimestart = time.time()[2B[0;1m[31m# Folder to keep results in[1B[39m[moutputdir = [0;1m[32m"benchmark"[1B[31m# Solution folder[1B[39m[msolutiondir = outputdir+[0;1m[32m"/solutions"[1B[39m[mtranslationdir = outputdir+[0;1m[32m"/translations"[1B[39m[mresultfile = outputdir+[0;1m[32m"/results_ilp.csv"[1B[39m[mtracedir = outputdir+[0;1m[32m"/trace"[2B[31m# Timeout in seconds for the ILP solver[1B#timeout = 3600[1B[39m[mtimeout = 1800[31;54H[0;7m[ Read 139 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[C[0;1m[31mtimeout = 3600[39m[m[K[1Btimeout = 1800[K[2B[0;1m[31m# Statistics we would like to keep[39m[m   [1Binstancename = ""[1Btime_spent_translating = 0[1Btime_spent_solving = 0[1Bsolution = -1[1Blower_bound = 0[11;29H[0;1m[31m# Smallest k we know is unsatisfiable[1B[39m[mupper_bound = float([0;1m[32m"inf"[39m[m)  [0;1m[31m# Smallest k we know is satisfialble[1B[39m[m[K[1B[0;1m[36mclass[39m[m TimeoutException(Exception):[1B    [0;1m[36mpass[39m[m[K[1B[0;1m[36mdef[34m timeout_handler[39m[m(signum, frame):[17;5H[0;1m[36mraise[39m[m TimeoutException()[1Bsignal.signal(signal.SIGALRM, timeout_handler)[2B[0;1m[36mif[39m[m(len(sys.argv) < 2):[K[1B    instancefn = raw_input([0;1m[32m'File: '[39m[m)[1B[0;1m[36melse[39m[m:[K[1B    instancefn = sys.argv[1][K[1B[K[1Binstancename = os.path.splitext(os.path.basename(instancefn))[0][1B[0;1m[36mwith[39m[m open(instancefn) [0;1m[36mas[39m[m instancef:[27;5Hinstance = instancef.readlines()[1B[K[1B(N,M,_) = read_DIGRAPH(instance)[1B[K[27A(N,M,_) = read_DIGRAPH(instance)[1B[K[1Bupper_bound = N[1B[K[1Btrace = collections.OrderedDict()[1B[K[1B[0;1m[31m# Your time starts... NOW![10;2H[39m[mignal.alarm(timeout)[1B[K[1B[0;1m[36mprint[39m[m([0;1m[32m"Starting to solve %s with N=%d,M=%d"[39m[m % (instancename, N, M))[2B[0;1m[36mtry[39m[m:[K[1B[0;1m[31m# Binary search for the solution[1B[39m[m    [0;1m[31m#guess = int(math.ceil((upper_bound-lower_bound)/2.0)+lower_bound)[17;5H#trace[guess] = {}[39m[m[K[1B[K[19;5H[0;1m[31m#print("Now guessing %d within (%d,%.0f]" % (guess, lower_bound,upper_bound))[1B[39m[m    starttime = time.time()[1B[K[1B    id = [0;1m[32m"gc-%s"[39m[m % instancename[23;5Htranslationfn = [0;1m[32m"%s/%s.lp"[39m[m % (translationdir, id)[24;5Hresultfn = [0;1m[32m"%s/%.sol"[39m[m % (translationdir, id)[1B[K[1B    [0;1m[36mtry[39m[m:[K[27;5H    gc_string_to_ilp_file(instance, translationfn, N)[28;9Htime_this_translation = time.time() - starttime[29;8H[1K [0;1m[31m#trace[guess]['trans'] = time_this_translation[26A[39m[m[7C[1K [0;1m[31m#trace[guess]['trans'] = time_this_translation[5;8H[39m[m[1K [0;1m[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[7;8H[1K starttime = time.time()[K[9;8H[1K solverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[1B[K[11;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[12;8H[39m[m[1K time_this_solving = time.time() - starttime[K[13;9Htime_spent_solving +=  time_this_solving[14;8H[1K time_spent_translating += time_this_translation[1B[K[1B[0;1m[31m#        print("Found solution: %d" % solution)[39m[m[K[1B[0;1m[31m#            else:[39m[m[K[1B[0;1m[31m#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[19;5H[39m[m    timeout = False[K[20;5H[0;1m[36mfinally[39m[m:[K[21;9H[0;1m[31m# Delete the translation file, since it can become several gigs[22;5H[39m[m    [0;1m[36mif[39m[m os.path.isfile(translationfn):[23;12H[1K os.remove(translationfn)[K[1B[K[1B[0;1m[36mexcept[39m[m KeyboardInterrupt:[26;5H[0;1m[31m# User wants to cancel[27;5H[36mpass[39m[m[K[1B[0;1m[36mexcept[39m[m TimeoutException:[K[29;5H[0;1m[31m# MEEH, Time's up![39m[m[K[30;5Htimeout = True[27A    [0;1m[31m# MEEH, Time's up![39m[m[K[4;5Htimeout = True[5;5H[0;1m[36mpass[39m[m[K[2B[0;1m[31m# Done![39m[m[K[1B[0;1m[31m# Cancel timeout[1B[39m[msignal.alarm(0)[K[2B[0;1m[31m# Report in addition: N[39m[m[K[1B[K[1Boutput = ""[K[1B[0;1m[36mif[39m[m [0;1m[36mnot[39m[m os.path.isfile(resultfile):[K[15;5H[0;1m[31m# So excel knows what separator to use[1B[39m[m    output = [0;1m[32m"sep=,\n"[39m[m[K[1B    output += [0;1m[32m"Instance,N,M,Solution,Translation Time,Solving Time,Total Time,Time Limit,Trace\n"[1B[39m[m[K[1Btime_spent_total = time.time() - totaltimestart[1Boutput += [0;1m[32m"%s,%d,%d,%.2f,%.2f,%.2f,%d"[39m[m %\[21;9H(instancename,[K[22;9H N,[K[1BM,[K[1Btime_spent_translating,[25;9H[1K time_spent_solving,[26;9H[1K time_spent_total,[27;9H[1K timeout[28;8H[1K )[K[1B[K[1B[0;1m[36mwith[39m[m open(resultfile, [0;1m[32m'ab'[39m[m) [0;1m[36mas[39m[m resultf:[27A[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[1B[7B[K[6AMMMMMMMMMMMMMMMMMMMMMM[2;30r[2;1H[15L[1;33r[3;9Htime_spent_translating += time_this_translation[2B[0;1m[31m#        print("Found solution: %d" % solution)[1B#            else:[1B#                print("New bounds: (%d,%.0f guess was %d" % (lower_bound, upper_bound, guess))[8;9H[39m[mtimeout = False[9;5H[0;1m[36mfinally[39m[m:[10;9H[0;1m[31m# Delete the translation file, since it can become several gigs[11;9H[36mif[39m[m os.path.isfile(translationfn):[12;13Hos.remove(translationfn)[2B[0;1m[36mexcept[39m[m KeyboardInterrupt:[15;5H[0;1m[31m# User wants to cancel[16;5H[36mpass[1Bexcept[39m[m TimeoutException:MMMMMMMMMMMMMM[2;31r[2;1H[15L[1;33r[4;5H[0;1m[36mtry[39m[m:[1Bgc_string_to_ilp_file(instance, translationfn, N)[6;9Htime_this_translation = time.time() - starttime[7;9H[0;1m[31m#trace[guess]['trans'] = time_this_translation[9;9H[36mprint[39m[m([0;1m[32m"Translation complete, now starting to solve"[39m[m)[11;9Hstarttime = time.time()[13;9Hsolverresult = subprocess.call([0;1m[32m"gurobi_cl ResultFile="[39m[m+resultfn+[0;1m[32m" "[39m[m+translationfn, shell=True)[15;9H[0;1m[31m# We're a bit screwed if the alarm signal happens exactly here before the next loop iteration, but what are the odds?[16;9H[39m[mtime_this_solving = time.time() - starttime[17;9Htime_spent_solving +=  time_this_solving[14B[K[14AMM M[1BM[1BM[1B[1BMM[1B M[1BMMM[1B[1B[1BMM        solv[19B[J[33;125H[33;1H[?1049l[?1l>in4336@ubuntu:~/repo/gc$ ls -l
total 760
drwxrwxr-x 5 in4336 in4336   4096 Oct 16 11:07 [0m[01;34mbenchmark[0m
-rw-rw-r-- 1 in4336 in4336   3724 Oct 16 11:48 benchmark_ilp.py
-rwxrwxr-x 1 in4336 in4336   5639 Oct 14 15:01 [01;32mbenchmark.py[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  1 02:22 [01;34mconverter[0m
-rw-rw-r-- 1 in4336 in4336  20859 Oct  1 02:22 DIGRAPH format.htm
-rw-rw-r-- 1 in4336 in4336 672545 Oct 16 08:06 gc-1-Insertions_4.lp
-rw-rw-r-- 1 in4336 in4336   2648 Oct 16 11:37 gc_to_ilp_functions.py
-rw-rw-r-- 1 in4336 in4336   2379 Oct 16 11:03 gc_to_ilp_functions.pyc
-rwxrwxr-x 1 in4336 in4336   2450 Oct 16 10:56 [01;32mgc_to_ilp.py[0m
-rwxrwxr-x 1 in4336 in4336   3823 Oct 16 11:37 [01;32mgc_to_sat_functions.py[0m
-rw-rw-r-- 1 in4336 in4336   3050 Oct  9 06:28 gc_to_sat_functions.pyc
-rwxrwxr-x 1 in4336 in4336   1012 Oct  9 06:02 [01;32mgc_to_sat.py[0m
-rwxrwxr-x 1 in4336 in4336   1416 Oct  9 02:22 [01;32mgc_to_sat_verify.py[0m
lrwxrwxrwx 1 in4336 in4336     33 Oct 16 07:57 [01;36mgurobi[0m -> [01;32m/opt/gurobi/linux64/bin/gurobi.sh[0m
-rw-rw-r-- 1 in4336 in4336   2424 Oct 16 11:28 gurobi.log
drwxrwxr-x 2 in4336 in4336   4096 Oct 16 06:12 [01;34minstances[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  9 06:12 [01;34moutput[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  9 02:45 [01;34msat-instances[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  9 07:01 [01;34mstandard_benchmark[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct  1 02:22 [01;34mtest-instances[0m
drwxrwxr-x 2 in4336 in4336   4096 Oct 16 06:14 [01;34mto-benchmark[0m
in4336@ubuntu:~/repo/gc$ cd ../ilp/
in4336@ubuntu:~/repo/ilp$ ls -l
total 528
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 07:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 07:51 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ vim [K[K[K[Knano gc2.sol
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                              File: gc2.sol                                                                  [3;1H[m# Objective value = 4[1By1 1[1By2 1[1By3 1[1By4 1[1Bx11 0[1Bx12 0[1Bx13 0[1Bx14 1[1Bx21 0[1Bx22 1[1Bx23 0[1Bx24 0[1Bx31 0[1Bx32 0[1Bx33 1[1Bx34 0[1Bx41 1[1Bx42 0[1Bx43 0[1Bx44 0[1Bx51 0[1Bx52 1[1Bx53 0[1Bx54 0[1Bx61 0[1Bx62 0[1Bx63 0[31;54H[0;7m[ Read 125 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A# O[3;22H[3;22Hx62 0[K[1Bx63 0[1Bx64 1[1Bx71 1[1Bx72 0[1Bx73[1B74[1B81[1B82 0[1Bx83[1B84[1B91[1B92[1B93 1[1Bx94[1B101 0[1Bx102 0[1Bx103 0[1Bx104 1[1Bx111 1[1Bx112 0[1Bx113 0[1Bx114 0[1Bx121 0[1Bx122 0[1Bx123 1[1Bx124 0[1Bx131 1[27Ax124 0[1Bx131 1[1Bx132 0[1Bx133 0[1Bx134 0[1Bx141 0[1Bx142 0[1Bx143 0[1Bx144 1[1Bx151 0[1Bx152 0[1Bx153 0[1Bx154 1[1Bx161 1[1Bx162 0[18;3H63[1B64[1B71[1B72 0[22;3H73 0[23;3H74 1[24;3H81[1B82[1B83 1[27;3H84[1B91 0[29;3H92 1[30;3H93 0[27Ax192 1[4;3H93 0[5;3H94[1Bx201[1Bx202 1[1Bx203[1Bx204[1Bx211[1Bx212 0[1Bx213 1[1Bx214[1Bx221[1Bx222 0[1Bx223[1Bx224[1Bx231[1Bx232 1[1Bx233[1Bx234[1Bx241[1Bx242[1Bx243[1Bx244[1Bx251 0[1Bx252 1[1Bx253[1Bx254 0[1Bx261[27Ax254 0[1Bx261[1Bx262 1[6;3H63[1B64 0[8;3H71[1B72[1B73 1[11;3H74[1B81[1B82[1B83[1B84[1B91 0[17;3H92 1[18;3H93[1B94 0[1Bx301[1Bx302[1Bx303[1Bx304[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[27A[21B[21Ax192 1[1Bx193[1Bx194 0[6;3H01[1B02 1[8;3H03[1B04[1B11 0[11;3H12[1B13[1B14[1B21[1B22[1B23 1[17;3H24 0[18;3H31[1B32 1[1Bx233[1Bx234[1Bx241[1Bx242[1Bx243 0[1Bx244 0[1Bx251 0[1Bx252 1[1Bx253 0[1Bx254 0[1Bx261 0[27Ax124 0[4;3H31 1[5;3H32[1Bx133[1Bx134 0[1Bx141[1Bx142[1Bx143[1Bx144 1[1Bx151 0[1Bx152[1Bx153[1Bx154 1[1Bx161[1Bx162[1Bx163[1Bx164 0[1Bx171[1Bx172[1Bx173[1Bx174[1Bx181[1Bx182[1Bx183 1[1Bx184 0[1Bx191[1Bx192 1[1Bx193[27Ax62 0[K[1Bx63 0 [1Bx64 1 [1Bx71 1 [1Bx72 0[K[1Bx73 0[K[1Bx74 0[K[1Bx81 0[K[1Bx82 0 [1Bx83 0[K[1Bx84 1 [1Bx91 0[K[1Bx92 0 [1Bx93 1[K[1Bx94 0[K[18;3H01[1B02[1B03[1B04 1[22;3H11 1[23;3H12 0[24;3H13[1B14[1B21 0[27;3H22[1B23 1[29;3H24 0[30;3H31 1[27A# Objective value = 4[1By1 1 [1By2 1[K[1By3 1[K[1By4 1 [1Bx11[1B12[1B13[1B14 1[1Bx21[1B22[1B23[1B24[1B31 0[1Bx32[1B33 1 [1Bx34 0[K[1Bx41 1 [1Bx42 0 [1Bx43 0 [1Bx44 0[K[1Bx51 0[K[1Bx52 1 [1Bx53 0[K[1Bx54 0[K[1Bx61 0 [1Bx62 0[K[1Bx63 0 [27A[29B[J[33;125H[33;1H[?1049l[?1l>in4336@ubuntu:~/repo/ilp$ ls -l
total 528
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 07:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 07:51 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ ls -lnano gc2.sol[K[K[K[K[K[K[K[K[K[K[K[Kgurobi_cl gc2.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc2.lp
Reading time = 0.01 seconds
(null): 3930 rows, 930 columns, 8700 nonzeros
Optimize a model with 3930 rows, 930 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 1500 rows and 0 columns
Presolve time: 0.07s
Presolved: 2430 rows, 930 columns, 8760 nonzeros
Variable types: 0 continuous, 930 integer (930 binary)

Root relaxation: objective 3.000000e+00, 1656 iterations, 0.10 seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0    3.00000    0   62   19.00000    3.00000  84.2%     -    0s
H    0     0                       4.0000000    3.00000  25.0%     -    0s
     0     0    3.00000    0   62    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   55    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   57    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   57    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   52    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   52    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   48    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   44    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     2    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
^C
Interrupt request received

Cutting planes:
  Gomory: 15
  Zero half: 23

Explored 8 nodes (42201 simplex iterations) in 4.77 seconds
Thread count was 2 (of 2 available processors)

Solve interrupted
Best objective 4.000000000000e+00, best bound 3.000000000000e+00, gap 25.0000%
in4336@ubuntu:~/repo/ilp$ ls -l
total 532
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 07:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2077 Oct 16 11:50 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 07:51 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ ls -lgurobi_cl gc2.lp[K[K[K[K-1-FullIns_3.lpRgc-1-FullIns_3.lpegc-1-FullIns_3.lpsgc-1-FullIns_3.lpugc-1-FullIns_3.lplgc-1-FullIns_3.lptgc-1-FullIns_3.lpFgc-1-FullIns_3.lpigc-1-FullIns_3.lplgc-1-FullIns_3.lpegc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp[1Pgc-1-FullIns_3.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc-1-FullIns_3.lp
Reading time = 0.01 seconds
(null): 3930 rows, 895 columns, 8700 nonzeros
Optimize a model with 3930 rows, 895 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 3930 rows and 895 columns
Presolve time: 0.00s

Explored 0 nodes (0 simplex iterations) in 0.01 seconds
Thread count was 1 (of 2 available processors)

Optimal solution found (tolerance 1.00e-04)
Best objective 0.000000000000e+00, best bound 0.000000000000e+00, gap 0.0%
in4336@ubuntu:~/repo/ilp$ 
in4336@ubuntu:~/repo/ilp$ gurobi_cl gc-1-FullIns_3.lpls -l[Kgurobi_cl gc-1-FullIns_3.lp[Kls -l
total 532
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 07:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2761 Oct 16 11:50 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 07:51 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ python gc_to_ilp.py 1-Fulllns_3.col [1@.[1@ 
Converted 1-Fulllns_3.col to ./gc-1-Fulllns_3.lp
in4336@ubuntu:~/repo/ilp$ ls -l
total 660
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 07:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   2761 Oct 16 11:50 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 07:51 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ ls -lpython gc_to_ilp.py . 1-Fulllns_3.col [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls -l[Kpython gc_to_ilp.py . 1-Fulllns_3.col [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls -l[Kgurobi_cl gc-1-FullIns_3.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc-1-FullIns_3.lp
Reading time = 0.01 seconds
(null): 3930 rows, 895 columns, 8700 nonzeros
Optimize a model with 3930 rows, 895 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 3930 rows and 895 columns
Presolve time: 0.00s

Explored 0 nodes (0 simplex iterations) in 0.00 seconds
Thread count was 1 (of 2 available processors)

Optimal solution found (tolerance 1.00e-04)
Best objective 0.000000000000e+00, best bound 0.000000000000e+00, gap 0.0%
in4336@ubuntu:~/repo/ilp$ ./a.otu[K[Kout [K[K[K[Kut 30
str2=edge, vertices=30, edges=100
in4336@ubuntu:~/repo/ilp$ ;s[K[Kls -l
total 660
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 11:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   3445 Oct 16 11:51 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 07:51 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ fur[K[K[Kgurobi [K[K[K[K[K[K[Kvim main.c 
[?1049h[?1h=[1;33r[34l[34h[?25h[23m[24m[0m[H[J[?25l[33;1H"main.c" 131L, 3132C[1;1H[35m#include [0m[31m<stdio.h>[0m
[35m#include [0m[31m<stdlib.h>[0m
[35m#include [0m[31m<string.h>[0m

[34m/*
 * C code genereert een LP bestand uit een DIGRAPH
 * Dit LP bestand draait vervolgens in GUROBI


 * Aanroep: gc_to_ilp k
 * k = k van k-GC
 */[0m

[32mint[0m main([32mint[0m argc, [32mchar[0m *argv[])
{
    [32mint[0m k;[18;5Hk = atoi(argv[[31m1[0m]);[20;5H[32mFILE[0m *infile;
    [32mchar[0m str[[31m60[0m];[23;5H[34m/* opening file for reading */[0m[26;5Hinfile=fopen([31m"1-Fulllns_3.col"[0m, [31m"r"[0m);
    [33mif[0m(infile == [31mNULL[0m) {[28;7Hperror([31m"Error opening file"[0m);[29;7H[33mreturn[0m(-[31m1[0m);
    }
    [32mchar[0m c;
    [32mchar[0m str2[[31m4[0m]=[31m"0000"[0m;[33;108H1,1[11CTop[1;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;5H[32mchar[0m c;
    [32mchar[0m str2[[31m4[0m]=[31m"0000"[0m;
    [32mchar[0m str3[[31m4[0m]=[31m"0000"[0m;[6;5H[32mint[0m vertices=[31m0[0m, edges=[31m0[0m;
    [32mint[0m v1[[31m1000[0m], v2[[31m1000[0m];
    [32mint[0m i,j,l=[31m1[0m;[10;5H[34m/* lees het aantal vertices en edges uit het *.col bestand */[0m
    [33mwhile[0m (fscanf(infile, [31m"[0m[35m%s[0m[31m"[0m, str) != [31mEOF[0m) {[12;9H[34m//printf("%s", str);[0m[13;9H[33mif[0m(str[[31m0[0m] == [31m'p'[0m) {[14;13Hfscanf(infile, [31m"[0m[35m%s[0m[31m [0m[35m%d[0m[31m [0m[35m%d[0m[31m"[0m, str2, &vertices, &edges);[15;13Hprintf([31m"str2=[0m[35m%s[0m[31m, vertices=[0m[35m%d[0m[31m, edges=[0m[35m%d\n[0m[31m"[0m,str2,vertices,edges);[16;9H}[17;9H[33melse[0m [33mif[0m(str[[31m0[0m] == [31m'e'[0m)[18;9H{[19;13Hfscanf(infile, [31m"[0m[35m%d[0m[31m [0m[35m%d[0m[31m"[0m, &v1[l], &v2[l]);[20;13H[34m//printf("v1[%d]=%d, v2[%d]=%d\n", l, v1[l], l, v2[l]);[0m[21;13Hl++;[22;9H}
    }
    fclose(infile);[27;5H[34m// opening file for writing[0m
    [32mFILE[0m *outfile;
    outfile=fopen([31m"gc2.lp"[0m, [31m"w+"[0m);
    [33mif[0m(outfile == [31mNULL[0m) {[31;7Hperror([31m"Error opening file"[0m);[32;7H[33mreturn[0m(-[31m1[0m);[33;108H31,5[10C30%[1;5H[34h[?25h[?25l[33;109H2[2;5H[34h[?25h[?25l[33;109H3[3;5H[34h[?25h[?25l[33;109H4,0-1[4;1H[34h[?25h[?25l[33;109H5[5;1H[34h[?25h[?25l[33;109H6,5  [6;5H[34h[?25h[?25l[33;109H7[7;5H[34h[?25h[?25l[33;109H8[8;5H[34h[?25h[?25l[33;109H9,0-1[9;1H[34h[?25h[?25l[33;108H40,5  [10;5H[34h[?25h[?25l[33;109H1[11;5H[34h[?25h[?25l[33;109H2[12;5H[34h[?25h[?25l[33;109H3[13;5H[34h[?25h[?25l[33;109H2[12;5H[34h[?25h[?25l[33;109H1[11;5H[34h[?25h[?25l[33;109H0[10;5H[34h[?25h[?25l[33;108H39,0-1[9;1H[34h[?25h[?25l[33;109H8,5  [8;5H[34h[?25h[?25l[33;109H7[7;5H[34h[?25h[?25l[33;109H6[6;5H[34h[?25h[?25l[33;109H5,0-1[5;1H[34h[?25h[?25l[33;109H4[4;1H[34h[?25h[?25l[33;109H3,5  [3;5H[34h[?25h[?25l[33;109H2[2;5H[34h[?25h[?25l[33;109H1[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H}[33;108H[K[33;108H30,5[10C29%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H[33mreturn[0m(-[31m1[0m);[33;108H[K[33;108H29,5[10C28%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;7Hperror([31m"Error opening file"[0m);[33;108H[K[33;108H28,5[10C27%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[33mif[0m(infile == [31mNULL[0m) {[33;108H[K[33;108H27,5[10C26%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5Hinfile=fopen([31m"1-Fulllns_3.col"[0m, [31m"r"[0m);[33;108H[K[33;108H26,5[10C25%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H25,0-1[8C24%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H24,0-1[8C23%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[34m/* opening file for reading */[0m[33;108H[K[33;108H23,5[10C22%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H22,0-1[8C21%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[32mchar[0m str[[31m60[0m];[33;108H[K[33;108H21,5[10C20%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[32mFILE[0m *infile;[33;108H[K[33;108H20,5[10C19%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H19,0-1[8C18%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5Hk = atoi(argv[[31m1[0m]);[33;108H[K[33;108H18,5[10C17%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H17,0-1[8C16%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H[32mint[0m k;[33;108H[K[33;108H16,5[10C15%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H{[33;108H[K[33;108H15,1[10C14%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[32mint[0m main([32mint[0m argc, [32mchar[0m *argv[])[33;108H[K[33;108H14,5[10C13%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H13,0-1[8C12%[1;1H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m */[0m[33;108H[K[33;108H12,3[10C11%[1;3H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m * k = k van k-GC[0m[33;108H[K[33;108H11,5[10C10%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m * Aanroep: gc_to_ilp k[0m[33;108H[K[33;108H10,5[11C9%[1;5H[34h[?25h[?25l[1;32r[1;1H[L[1;33r[33;108H[K[33;108H9,0-1[10C8%[1;1H[34h[?25h[?25l[33;108H10,5 [2;5H[34h[?25h[?25l[33;109H1[3;5H[34h[?25h[?25l[33;109H2,3[4;3H[34h[?25h[?25l[33;109H3,0-1[5;1H[34h[?25h[?25l[33;109H4,5  [6;5H[34h[?25h[?25l[33;109H5,1[7;1H[34h[?25h[?25l[33;109H6,5[8;5H[34h[?25h[?25l[33;109H7,0-1[9;1H[34h[?25h[?25l[33;109H8,5  [10;5H[34h[?25h[?25l[33;109H9,0-1[11;1H[34h[?25h[?25l[33;108H20,5  [12;5H[34h[?25h[?25l[33;109H1[13;5H[34h[?25h[?25l[33;109H2,0-1[14;1H[34h[?25h[?25l[33;109H3,5  [15;5H[34h[?25h[?25l[33;109H4,0-1[16;1H[34h[?25h[?25l[33;109H5[17;1H[34h[?25h[?25l[33;109H6,5  [18;5H[34h[?25h[?25l[33;111H6[18;6H[34h[?25h[?25l[33;111H7[18;7H[34h[?25h[?25l[33;111H8[18;8H[34h[?25h[?25l[33;111H9[18;9H[34h[?25h[?25l[33;111H10[18;10H[34h[?25h[?25l[33;112H1[18;11H[34h[?25h[?25l[33;112H2[18;12H[34h[?25h[?25l[33;112H3[18;13H[34h[?25h[?25l[33;112H4[18;14H[34h[?25h[?25l[33;112H5[18;15H[34h[?25h[?25l[33;112H6[18;16H[34h[?25h[?25ln[46m([22C)[0m[33;112H7[18;17H[34h[?25h[?25l([22C)[33;112H8[18;18H[34h[?25h[?25l[33;112H9[18;19H[34h[?25h[?25l[33;111H20[18;20H[34h[?25h[?25l[33;112H1[18;21H[34h[?25h[?25l[33;109H7[19;21H[34h[?25h[?25l[33;109H8[20;21H[34h[?25h[?25l[33;109H9,17[21;17H[34h[?25h[?25l[19;24H[46m{[22;5H}[0m[33;108H30,5 [22;5H[34h[?25h[?25l[19;24H{[22;5H}[33;109H1,11[23;11H[34h[?25h[?25l[33;109H2,2[24;21H[34h[?25h[?25l[33;109H3[25;21H[34h[?25h[?25l[33;109H4,0-1[26;1H[34h[?25h[?25l[33;109H5[27;1H[34h[?25h[?25l[33;109H6,21 [28;21H[34h[?25h[?25l[29;21H[46m[[4C][0m[33;109H7[29;21H[34h[?25h[?25l[[4C][33;109H8,16[30;16H[34h[?25h[?25l[33;109H9,0-1[31;1H[34h[?25h[?25l[33;108H40,21 [32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mwhile[0m (fscanf(infile, [31m"[0m[35m%s[0m[31m"[0m, str) != [31mEOF[0m) {[33;108H[K[33;108H41,21[10C9%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[34m//printf("%s", str);[0m[33;108H[K[33;108H42,21[9C10%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mif[0m(str[[31m0[0m] == [31m'p'[0m) {[33;108H[K[33;108H43,21[9C11%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hfscanf(infile, [31m"[0m[35m%s[0m[31m [0m[35m%d[0m[31m [0m[35m%d[0m[31m"[0m, str2, &vertices, &edges);[33;108H[K[33;108H44,21[9C12%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hprintf([31m"str2=[0m[35m%s[0m[31m, vertices=[0m[35m%d[0m[31m, edges=[0m[35m%d\n[0m[31m"[0m,str2,vertices,edges);[33;108H[K[33;108H45,21[9C13%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[29;27H[46m{[32;9H}[0m[33;108H[K[33;108H46,9[10C14%[32;9H[34h[?25h[?25l[1;32r[32;1H
[1;33r[28;27H{[31;9H}[32;9H[33melse[0m [33mif[0m(str[[31m0[0m] == [31m'e'[0m)[33;108H[K[33;108H47,21[9C15%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H{[33;108H[K[33;108H48,9[10C16%[32;9H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hfscanf(infile, [31m"[0m[35m%d[0m[31m [0m[35m%d[0m[31m"[0m, &v1[l], &v2[l]);[33;108H[K[33;108H49,21[9C17%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13H[34m//printf[0m[34m[46m([0m[34m"v1[%d]=%d, v2[%d]=%d\n", l, v1[l], l, v2[l][0m[34m[46m)[0m[34m;[0m[33;108H[K[33;108H50,21[9C18%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[31;21H[34m([44C)[0m[32;13Hl++;[33;108H[K[33;108H51,16[9C19%[32;16H[34h[?25h[?25l[1;32r[32;1H
[1;33r[28;9H[46m{[32;9H}[0m[33;108H[K[33;108H52,9[10C20%[32;9H[34h[?25h[?25l[1;32r[32;1H
[1;33r[20;46H[46m{[0m[27;9H{[31;9H}
    [46m}[0m[33;108H[K[33;108H53,5[10C21%[32;5H[34h[?25h[?25l[1;32r[32;1H
[1;33r[19;46H{[31;5H}
    fclose(infile);[33;108H[K[33;108H54,19[9C22%[32;19H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H55,0-1[8C23%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H56,0-1[8C24%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m// opening file for writing[0m[33;108H[K[33;108H57,21[9C25%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[32mFILE[0m *outfile;[33;108H[K[33;108H58,18[9C26%[32;18H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Houtfile=fopen([31m"gc2.lp"[0m, [31m"w+"[0m);[33;108H[K[33;108H59,21[9C27%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mif[0m(outfile == [31mNULL[0m) {[33;108H[K[33;108H60,21[9C28%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;7Hperror([31m"Error opening file"[0m);[33;108H[K[33;108H61,21[9C29%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;7H[33mreturn[0m(-[31m1[0m);[33;108H[K[33;108H62,17[9C30%[32;17H[34h[?25h[?25l[1;32r[32;1H
[1;33r[29;25H[46m{[32;5H}[0m[33;108H[K[33;108H63,5[10C31%[32;5H[34h[?25h[?25l[1;32r[32;1H
[1;33r[28;25H{[31;5H}[33;108H[K[33;108H64,0-1[8C32%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m/**/[0m[33;108H[K[33;108H65,8[10C33%[32;8H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hfprintf(outfile, [31m"Minimize[0m[35m\n\t[0m[31my1"[0m);[33;108H[K[33;108H66,21[9C34%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mfor[0m(i=[31m2[0m; i<=k; i++) {[33;108H[K[33;108H67,21[9C35%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9Hfprintf(outfile, [31m" + y[0m[35m%i[0m[31m"[0m, i);[33;108H[K[33;108H68,21[9C36%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[30;25H[46m{[32;5H}[0m[33;108H[K[33;108H69,5[10C37%[32;5H[34h[?25h[?25l[1;32r[32;1H
[1;33r[29;25H{[31;5H}[33;108H[K[33;108H70,0-1[8C38%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hj=[31m1[0m;[33;108H[K[33;108H71,8[10C39%[32;8H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5Hfprintf(outfile, [31m"[0m[35m\n[0m[31mSubject To[0m[35m\n[0m[31m"[0m);[33;108H[K[33;108H72,21[9C40%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m// Zorg dat elke vertex precies één kleur heeft[0m[33;108H[K[33;108H73,21[9C41%[32;21H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[33mfor[0m(i=[31m1[0m; i<=vertices; i++) {[33;108H[K[33;108H74,21[9C42%[32;21H[34h[?25h[?25l[33;109H3[31;21H[34h[?25h[?25l[33;109H2[30;21H[34h[?25h[?25l[33;109H1,8 [29;8H[34h[?25h[?25l[33;109H0,0-1[28;1H[34h[?25h[?25l[25;25H[46m{[27;5H}[0m[33;108H69,5  [27;5H[34h[?25h[?25l[25;25H{[27;5H}[33;109H8,21[26;21H[34h[?25h[?25l[33;109H7[25;21H[34h[?25h[?25l[33;109H6[24;21H[34h[?25h[?25l[33;109H5,8 [23;8H[34h[?25h[?25l[33;109H4,0-1[22;1H[34h[?25h[?25l[18;25H[46m{[21;5H}[0m[33;109H3,5  [21;5H[34h[?25h[?25l[18;25H{[21;5H}[33;109H2,17[20;17H[34h[?25h[?25l[33;109H1,21[19;21H[34h[?25h[?25l[33;109H0[18;21H[34h[?25h[?25l[33;108H59[17;21H[34h[?25h[?25l[33;108H[K[33;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l"main.c" 131L, 3132C written
[?1l>[34h[?25h[?1049lin4336@ubuntu:~/repo/ilp$ cleae[Kr
[H[Jin4336@ubuntu:~/repo/ilp$ ls -l
total 660
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 11:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   3445 Oct 16 11:51 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 11:52 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ ./at[K.out 30[K[K[K[K[K[K[K[K[K[Kgurobu [K[Ki gc2.lp
gurobi: command not found
in4336@ubuntu:~/repo/ilp$ gurobi gc2.lp[C[C[C[C[C[C[C
gurobi: command not found
in4336@ubuntu:~/repo/ilp$ gurobi gc2.lp[C[C[C[C_ gc2.lpc gc2.lp` gc2.lpl gc2.lp[1P gc2.lp[1P gc2.lpl gc2.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc2.lp
Reading time = 0.01 seconds
(null): 3930 rows, 930 columns, 8700 nonzeros
Optimize a model with 3930 rows, 930 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 1500 rows and 0 columns
Presolve time: 0.06s
Presolved: 2430 rows, 930 columns, 8760 nonzeros
Variable types: 0 continuous, 930 integer (930 binary)

Root relaxation: objective 3.000000e+00, 1656 iterations, 0.11 seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0    3.00000    0   62   19.00000    3.00000  84.2%     -    0s
H    0     0                       4.0000000    3.00000  25.0%     -    0s
     0     0    3.00000    0   62    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   55    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   57    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   57    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   52    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   52    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   48    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   44    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     2    3.00000    0   46    4.00000    3.00000  25.0%     -    2s

Cutting planes:
  Gomory: 15
  Zero half: 8

Explored 9 nodes (42625 simplex iterations) in 4.68 seconds
Thread count was 2 (of 2 available processors)

Optimal solution found (tolerance 1.00e-04)
Best objective 4.000000000000e+00, best bound 4.000000000000e+00, gap 0.0%
in4336@ubuntu:~/repo/ilp$ ls -l
total 664
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 11:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rw-rw-r-- 1 in4336 in4336   2450 Oct 16 11:37 gc_to_ilp.py
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   5543 Oct 16 11:53 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 11:52 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ ls -lgurobi_cl gc2.lp[3P gc2.lp_cl gc2.lp[3P gc2.lp[8Pls -lgurobi gc2.lp[8Pls -lgurobi gc2.lp_cl gc2.lp[3P gc2.lp[8Pls -lclearvim main.c [6Pls -lvim main.c [6Pls -lvim main.c [6Pclearls -lgurobi gc2.lp_cl gc2.lp[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgc_to_ilp;[K.py gc21.[K[K[K[K[Kgc-1-FullIns_3.sol
gc_to_ilp.py: command not found
in4336@ubuntu:~/repo/ilp$ gc_to_ilp.py gc-1-FullIns_3.sol[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1@.[1@/
bash: ./gc_to_ilp.py: Permission denied
in4336@ubuntu:~/repo/ilp$ chmod +x gc_to_ulp[K[K[Kilp.py 
in4336@ubuntu:~/repo/ilp$ chmod +x gc_to_ilp.py ./gc_to_ilp.py gc-1-FullIns_3.sol
files: C ^CTraceback (most recent call last):
  File "./gc_to_ilp.py", line 67, in <module>
    files = raw_input('files: ')
KeyboardInterrupt
in4336@ubuntu:~/repo/ilp$ ls -l
total 664
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 11:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rwxrwxr-x 1 in4336 in4336   2450 Oct 16 11:37 [01;32mgc_to_ilp.py[0m
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   5543 Oct 16 11:53 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 11:52 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ nano [K[K[K[K[Kls -l./gc_to_ilp.py gc-1-FullIns_3.sol[1Pc-1-FullIns_3.sol[1P-1-FullIns_3.sol[1P1-FullIns_3.sol[1P-FullIns_3.sol[1PFullIns_3.sol[1PullIns_3.sol[1PllIns_3.sol[C[1PIns_3.sol[1PIns_3.sol[1Pns_3.sol[1Ps_3.sol[1P_3.sol[1P3.sol[1P.sol[1Psol[1Pol[1Pl[K1-Fulllns_3.col 
files: ^CTraceback (most recent call last):
  File "./gc_to_ilp.py", line 67, in <module>
    files = raw_input('files: ')
KeyboardInterrupt
in4336@ubuntu:~/repo/ilp$ python gc_to_ilp.py 1-Fulllns_3.col 
files: .
Traceback (most recent call last):
  File "gc_to_ilp.py", line 72, in <module>
    with open(instancefn) as instacef:
IOError: [Errno 21] Is a directory: '.'
in4336@ubuntu:~/repo/ilp$ python gc_to_ilp.py 1-Fulllns_3.col 
files: ../   1-F^CTraceback (most recent call last):
  File "gc_to_ilp.py", line 67, in <module>
    files = raw_input('files: ')
KeyboardInterrupt
in4336@ubuntu:~/repo/ilp$ upython gc_to_ilp.py 1-Fulllns_3.col 
files: ^CTraceback (most recent call last):
  File "gc_to_ilp.py", line 67, in <module>
    files = raw_input('files: ')
KeyboardInterrupt
in4336@ubuntu:~/repo/ilp$ python gc_to_ilp.py 1-Fulllns_3.col [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K
Output dir: .
files: 1-FullIns_3.col
in4336@ubuntu:~/repo/ilp$ ls -l
total 664
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 11:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rwxrwxr-x 1 in4336 in4336   2450 Oct 16 11:37 [01;32mgc_to_ilp.py[0m
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   5543 Oct 16 11:53 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 11:52 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ gurobi [K_cl gc-1.[K-FullIns_3.klpo[K[K[K[Klp[1Pns_3.lplns_3.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc-1-Fulllns_3.lp
Reading time = 0.01 seconds
(null): 3930 rows, 895 columns, 8700 nonzeros
Optimize a model with 3930 rows, 895 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 3930 rows and 895 columns
Presolve time: 0.00s

Explored 0 nodes (0 simplex iterations) in 0.00 seconds
Thread count was 1 (of 2 available processors)

Optimal solution found (tolerance 1.00e-04)
Best objective 0.000000000000e+00, best bound 0.000000000000e+00, gap 0.0%
in4336@ubuntu:~/repo/ilp$ gurobi_cl gc-1-Fulllns_3.lpls -l[Kgurobi_cl gc-1-Fulllns_3.lp[Kgurobi_cl gc-1-Fulllns_3.lp[1Pns_3.lpIns_3.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc-1-FullIns_3.lp
Reading time = 0.01 seconds
(null): 3930 rows, 895 columns, 8700 nonzeros
Optimize a model with 3930 rows, 895 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 3930 rows and 895 columns
Presolve time: 0.00s

Explored 0 nodes (0 simplex iterations) in 0.01 seconds
Thread count was 1 (of 2 available processors)

Optimal solution found (tolerance 1.00e-04)
Best objective 0.000000000000e+00, best bound 0.000000000000e+00, gap 0.0%
in4336@ubuntu:~/repo/ilp$ vim gc_to_ilp.py 
[?1049h[?1h=[1;33r[34l[34h[?25h[23m[24m[0m[H[J[?25l[33;1H"gc_to_ilp.py" [converted] 81L, 2452C[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[0m

[35mimport[0m sys
[35mimport[0m glob
[35mimport[0m os.path
[35mfrom[0m gc_to_sat_functions [35mimport[0m read_DIGRAPH

[33mdef[0m [36mGC_to_ILP[0m(N,E):
    objfunction = [31m""[0m
    subjectto = []
    bounds = []
    integers = [][15;5H[34m# Variablen:
[0m    [34m# yi : kleur i wordt wel/niet gebruikt
[0m    [34m# xi_k : node i heeft kleur k wel/niet[19;5H# Objective function: minimaliseer het aantal kleuren[0m
    objfunction = [31m" + "[0m.join([[31m"y"[0m+[36mstr[0m(i) [33mfor[0m i [33min[0m [36mxrange[0m([31m0[0m,N)])[22;5H[34m# Zorg dat elke vertex precies één kleur heeft[0m
    [33mfor[0m i [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m):[24;9Hsubjectto.append([31m" + "[0m.join([[31m"x%d%d"[0m%(i,k) [33mfor[0m k [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m)]) + [31m" = 1"[0m)[26;5H[34m# Zorg dat nodes geen kleur krijgen die niet gebruikt wordt[0m
    [33mfor[0m i [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m):[28;9H[33mfor[0m k [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m):[29;13Hsubjectto.append([31m"x%d%d - y%d <= 0"[0m % (i,k,k))[31;5H[34m# Zorg dat nodes die met een edge verbonden zijn niet dezelfde kleur krijgen[0m
    [33mfor[0m (v,w) [33min[0m E:[33;108H1,1[11CTop[1;1H[34h[?25h[?25l[33;108H2[2;1H[34h[?25h[?25l[33;108H3,0-1[3;1H[34h[?25h[?25l[33;108H4,1  [4;1H[34h[?25h[?25l[33;108H5[5;1H[34h[?25h[?25l[33;108H6[6;1H[34h[?25h[?25l[33;108H7[7;1H[34h[?25h[?25l[33;108H8,0-1[8;1H[34h[?25h[?25l[33;108H9,1  [9;1H[34h[?25h[?25l[33;108H10,1[10;1H[34h[?25h[?25l[33;109H1[11;1H[34h[?25h[?25l[33;109H2[12;1H[34h[?25h[?25l[33;109H3[13;1H[34h[?25h[?25l[33;109H4,0-1[14;1H[34h[?25h[?25l[33;109H5,1  [15;1H[34h[?25h[?25l[33;109H6[16;1H[34h[?25h[?25l[33;109H7[17;1H[34h[?25h[?25l[33;109H8,0-1[18;1H[34h[?25h[?25l[33;109H9,1  [19;1H[34h[?25h[?25l[33;108H20[20;1H[34h[?25h[?25l[33;109H1,0-1[21;1H[34h[?25h[?25l[33;109H2,1  [22;1H[34h[?25h[?25l[33;109H3[23;1H[34h[?25h[?25l[33;109H4[24;1H[34h[?25h[?25l[33;109H5,0-1[25;1H[34h[?25h[?25l[33;109H6,1  [26;1H[34h[?25h[?25l[33;109H7[27;1H[34h[?25h[?25l[33;109H8[28;1H[34h[?25h[?25l[33;109H9[29;1H[34h[?25h[?25l[33;108H30,0-1[30;1H[34h[?25h[?25l[33;109H1,1  [31;1H[34h[?25h[?25l[33;109H2[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;9H[33mfor[0m k [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m):[33;1H[K[33;108H33,1[11C2%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hsubjectto.append([31m"x%d%d - x%d%d <= 1"[0m % (v,k,w,k))[33;108H[K[33;108H34,1[11C4%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[33;108H[K[33;108H35,0-1[9C6%[32;1H[34h[?25h[?25l[1;32r[32;1H
[1;33r[32;5H[34m# Zorg dat alle variabelen 0 of 1 zijn[0m[33;108H[K[33;108H36,1[11C8%[32;1H[34h[?25h[?25l[23m[24m[0m[H[J[2;5H[34m# Zorg dat alle variabelen 0 of 1 zijn[0m
    [33mfor[0m k [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m):[4;9Hbounds.append([31m"0 <= y%d <= 1"[0m % k)[5;9Hintegers.append([31m"y%d"[0m % k)[6;9H[33mfor[0m x [33min[0m [36mxrange[0m([31m1[0m,N+[31m1[0m):[7;13Hbounds.append([31m"0 <= x%d%d <= 1"[0m % (x,k))[8;13Hintegers.append([31m"x%d%d"[0m % (x,k))[10;5H[33mreturn[0m (objfunction, subjectto, bounds, integers)

[33mdef[0m [36mto_ilp[0m(objfunction, subjectto, bounds, integers):
    result = [31m"Minimize[0m[35m\n[0m[31m"[0m
    result += [31m"[0m[35m\t[0m[31m"[0m + objfunction + [31m"[0m[35m\n[0m[31m"[0m
    result += [31m"Subject To[0m[35m\n[0m[31m"[0m
    c = [31m1[0m
    [33mfor[0m constraint [33min[0m subjectto:[18;9Hresult += [31m"[0m[35m\t[0m[31mc%d: %s[0m[35m\n[0m[31m"[0m % (c,constraint)[19;9Hc = c+[31m1[0m
    result += [31m"Bounds[0m[35m\n\t[0m[31m"[0m
    result += [31m"[0m[35m\n\t[0m[31m"[0m.join(bounds)
    result += [31m"[0m[35m\n[0m[31mIntegers[0m[35m\n\t[0m[31m"[0m
    result += [31m"[0m[35m\n\t[0m[31m"[0m.join(integers)
    result += [31m"[0m[35m\n[0m[31mEnd"[0m
    [33mreturn[0m result

[33mif[0m([36mlen[0m(sys.argv) < [31m2[0m):
    outputdir = [36mraw_input[0m([31m"Output dir: "[0m);
[33melse[0m:
    outputdir = sys.argv[[31m1[0m]

[33mif[0m([36mlen[0m(sys.argv) < [31m3[0m):[33;108H35,0-1[8C69%[1;1H[34h[?25h[?25l[33;109H6,1  [2;1H[34h[?25h[?25l[33;109H5,0-1[1;1H[34h[?25h[?25l[33;109H6,1  [2;1H[34h[?25h[?25l[33;109H7[3;1H[34h[?25h[?25l[33;109H8[4;1H[34h[?25h[?25l[33;109H9[5;1H[34h[?25h[?25l[33;108H40[6;1H[34h[?25h[?25l[33;109H1[7;1H[34h[?25h[?25l[33;109H2[8;1H[34h[?25h[?25l[33;109H3,0-1[9;1H[34h[?25h[?25l[33;109H4,1  [10;1H[34h[?25h[?25l[33;109H5,0-1[11;1H[34h[?25h[?25l[33;109H6,1  [12;1H[34h[?25h[?25l[33;109H7[13;1H[34h[?25h[?25l[33;109H8[14;1H[34h[?25h[?25l[33;109H9[15;1H[34h[?25h[?25l[33;108H[K[33;1H:[34h[?25h [?25l[106C49,1[10C69%[15;1H[34h[?25h[?25l[33;108H[K[33;1H:[34h[?25hq[?25l[34h[?25h[?25l[33;1H[K[33;1H[?1l>[34h[?25h[?1049lin4336@ubuntu:~/repo/ilp$ vim gc_to_ilp.py gurobi_cl gc-1-FullIns_3.lplns_3.lpls -l[Kgurobi_cl gc-1-Fulllns_3.lp[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K2.lp

Gurobi Optimizer version 5.6.3 build v5.6.3rc2 (linux64)
Copyright (c) 2013, Gurobi Optimization, Inc.

Read LP format model from file gc2.lp
Reading time = 0.01 seconds
(null): 3930 rows, 930 columns, 8700 nonzeros
Optimize a model with 3930 rows, 930 columns and 8700 nonzeros
Found heuristic solution: objective 19
Presolve removed 1500 rows and 0 columns
Presolve time: 0.06s
Presolved: 2430 rows, 930 columns, 8760 nonzeros
Variable types: 0 continuous, 930 integer (930 binary)

Root relaxation: objective 3.000000e+00, 1656 iterations, 0.14 seconds

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0    3.00000    0   62   19.00000    3.00000  84.2%     -    0s
H    0     0                       4.0000000    3.00000  25.0%     -    0s
     0     0    3.00000    0   62    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   55    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   57    4.00000    3.00000  25.0%     -    0s
     0     0    3.00000    0   57    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   52    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   52    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   48    4.00000    3.00000  25.0%     -    1s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   44    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     0    3.00000    0   46    4.00000    3.00000  25.0%     -    2s
     0     2    3.00000    0   46    4.00000    3.00000  25.0%     -    2s

Cutting planes:
  Gomory: 15
  Zero half: 8

Explored 9 nodes (42625 simplex iterations) in 4.89 seconds
Thread count was 2 (of 2 available processors)

Optimal solution found (tolerance 1.00e-04)
Best objective 4.000000000000e+00, best bound 4.000000000000e+00, gap 0.0%
in4336@ubuntu:~/repo/ilp$ echo $?
0
in4336@ubuntu:~/repo/ilp$ man gurobi_s[Kcl
No manual entry for gurobi_cl
See 'man 7 undocumented' for help when manual pages are not available.
in4336@ubuntu:~/repo/ilp$ guro-[Kbi_cl --help
Gurobi command line optimizer, version 5.6.3 (linux64).
Copyright (c) 2013, Gurobi Optimization, Inc.

Usage: gurobi_cl [param=value]* filename

For example, 'gurobi_cl Method=2 ResultFile=afiro.sol afiro.mps'.

Gurobi parameters are documented in the Gurobi Reference Manual.

Other accepted arguments:
   --version: version information
   --tokens:  details on tokens currently in use
   --clients: details on current compute server clients
   --adminpassword, --joblimit, --killjob, --server: compute server
         administrative commands

Visit www.gurobi.com/doc/56 for further details on how to use this program.
in4336@ubuntu:~/repo/ilp$ vim gc-1-Fulli[K[Kl
gc-1-FullIns_3.lp   gc-1-FullIns_3.sol  gc-1-Fulllns_3.lp   
in4336@ubuntu:~/repo/ilp$ vim gc-1-Fulllns_3.lp [K[K[Ksol
[?1049h[?1h=[1;33r[34l[34h[?25h[23m[24m[0m[H[J[?25l[33;1H"gc-1-Fulllns_3.sol" [New File][2;1H[1m[34m~                                                                                                                            [3;1H~                                                                                                                            [4;1H~                                                                                                                            [5;1H~                                                                                                                            [6;1H~                                                                                                                            [7;1H~                                                                                                                            [8;1H~                                                                                                                            [9;1H~                                                                                                                            [10;1H~                                                                                                                            [11;1H~                                                                                                                            [12;1H~                                                                                                                            [13;1H~                                                                                                                            [14;1H~                                                                                                                            [15;1H~                                                                                                                            [16;1H~                                                                                                                            [17;1H~                                                                                                                            [18;1H~                                                                                                                            [19;1H~                                                                                                                            [20;1H~                                                                                                                            [21;1H~                                                                                                                            [22;1H~                                                                                                                            [23;1H~                                                                                                                            [24;1H~                                                                                                                            [25;1H~                                                                                                                            [26;1H~                                                                                                                            [27;1H~                                                                                                                            [28;1H~                                                                                                                            [29;1H~                                                                                                                            [30;1H~                                                                                                                            [31;1H~                                                                                                                            [32;1H~                                                                                                                            [0m[33;108H0,0-1[9CAll[1;1H[34h[?25h[?25l[33;1H[K[33;1H:[34h[?25h:[?25l[34h[?25hq[?25l[34h[?25hq[?25l[34h[?25h[?25l[1m[37m[41mE492: Not an editor command: :qq[0m[75C0,0-1[9CAll[1;1H[34h[?25h[?25l[33;1H[K[33;1H:[34h[?25hq[?25l[34h[?25h[?25l[33;1H[K[33;1H[?1l>[34h[?25h[?1049lin4336@ubuntu:~/repo/ilp$ ls -l
total 668
-rw-rw-r-- 1 in4336 in4336    917 Oct  6 06:06 1-Fulllns_3.col
-rwxrwxr-x 1 in4336 in4336  13088 Oct 16 07:51 [0m[01;32ma.out[0m
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:37 gc-1-FullIns_3.lp
-rw-rw-r-- 1 in4336 in4336   6606 Oct 16 11:37 gc-1-FullIns_3.sol
-rw-rw-r-- 1 in4336 in4336 126373 Oct 16 11:51 gc-1-Fulllns_3.lp
-rw-rw-r-- 1 in4336 in4336 134102 Oct 16 11:51 gc2.lp
-rw-rw-r-- 1 in4336 in4336    846 Oct  6 06:06 gc2.sol
-rw-rw-r-- 1 in4336 in4336    725 Oct  6 06:06 gc.lp
-rw-rw-r-- 1 in4336 in4336  55158 Oct 16 11:37 [01;35mgc.png[0m
-rw-rw-r-- 1 in4336 in4336     91 Oct  6 06:06 gc.sol
-rwxrwxr-x 1 in4336 in4336   2450 Oct 16 11:37 [01;32mgc_to_ilp.py[0m
-rw-rw-r-- 1 in4336 in4336   3105 Oct 16 11:37 gc_to_sat_functions.py
-rw-rw-r-- 1 in4336 in4336   2717 Oct 16 11:51 gc_to_sat_functions.pyc
-rw-rw-r-- 1 in4336 in4336   9009 Oct 16 11:56 gurobi.log
-rw-rw-r-- 1 in4336 in4336   3132 Oct 16 11:52 main.c
-rw-rw-r-- 1 in4336 in4336 118628 Oct 16 11:37 Presentation1.pptx
-rw-rw-r-- 1 in4336 in4336   3692 Oct 16 11:37 [01;35mrcpsp(1).png[0m
-rw-rw-r-- 1 in4336 in4336   3528 Oct 16 06:19 rcpsp_functions.py
-rw-rw-r-- 1 in4336 in4336  21747 Oct 16 11:37 [01;35mrcpsp.png[0m
-rw-rw-r-- 1 in4336 in4336   3897 Oct 16 11:37 rcpsp-test1.lp
-rw-rw-r-- 1 in4336 in4336      0 Oct 16 11:37 rcpsp-test1.sol
-rw-rw-r-- 1 in4336 in4336   1203 Oct 16 11:37 rcpsp-test2.lp
-rw-rw-r-- 1 in4336 in4336    162 Oct 16 11:37 rcpsp-test2.sol
-rw-rw-r-- 1 in4336 in4336   4073 Oct 16 11:37 rcpsp_to_ilp.py
in4336@ubuntu:~/repo/ilp$ nano gc[K2[Kc2.swo[K[Kol 
(B)0[?1049h[1;33r[m[4l[34h[?25h[?1h=[?1h=[?1h=[39;49m[39;49m[m[H[J[0;7m  GNU nano 2.2.6                              File: gc2.sol                                                                  [3;1H[m# Objective value = 4[1By1 1[1By2 1[1By3 1[1By4 1[1Bx11 0[1Bx12 0[1Bx13 0[1Bx14 1[1Bx21 0[1Bx22 1[1Bx23 0[1Bx24 0[1Bx31 0[1Bx32 0[1Bx33 1[1Bx34 0[1Bx41 1[1Bx42 0[1Bx43 0[1Bx44 0[1Bx51 0[1Bx52 1[1Bx53 0[1Bx54 0[1Bx61 0[1Bx62 0[1Bx63 0[31;54H[0;7m[ Read 125 lines ][1B^G[m Get Help[32;21H[0;7m^O[m WriteOut[32;41H[0;7m^R[m Read File[32;61H[0;7m^Y[m Prev Page[32;81H[0;7m^K[m Cut Text[32;101H[0;7m^C[m Cur Pos[1B[0;7m^X[m Exit[33;21H[0;7m^J[m Justify[33;41H[0;7m^W[m Where Is[33;61H[0;7m^V[m Next Page[33;81H[0;7m^U[m UnCut Text[7C[0;7m^T[m To Spell[30A[29B[J[33;125H[33;1H[?1049l[?1l>in4336@ubuntu:~/repo/ilp$ exit[K[K[K[K^C
in4336@ubuntu:~/repo/ilp$ ^C
in4336@ubuntu:~/repo/ilp$ ^C
in4336@ubuntu:~/repo/ilp$ clear
[H[Jin4336@ubuntu:~/repo/ilp$ ^C
in4336@ubuntu:~/repo/ilp$ ^C
in4336@ubuntu:~/repo/ilp$ ^C
in4336@ubuntu:~/repo/ilp$ ^C
in4336@ubuntu:~/repo/ilp$ exit
exit
